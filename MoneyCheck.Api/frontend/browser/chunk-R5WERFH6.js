import{$ as k,$a as h,$b as zn,$c as ce,$d as _e,A as H,Aa as R,Ab as Bn,Ac as Jn,Ad as D,B as Ee,Bc as er,Bd as sr,C as fe,Ca as M,Cb as Je,Cc as tr,Cd as ra,D as P,Da as Xt,Db as ki,Dc as tt,Dd as Oe,E as f,Ea as Dn,Eb as Rn,Ec as ir,Ed as Le,F as Pi,Fa as b,Fb as oi,Fd as Ne,G as Yi,Ga as Sn,Gb as Wi,Gd as oa,Ha as p,Hb as Pt,Hc as Ha,Hd as Pe,I as Te,Ia as ft,Ic as wi,Id as Ye,J as v,Ja as Fe,Jd as sa,K as C,Ka as Ie,Kb as Yt,Kc as jt,Kd as He,L as dt,Lb as Na,Lc as za,Ld as ze,M as Wt,Ma as Nt,Mc as ja,Md as la,N as mt,Na as ve,Nb as On,Nc as Di,Nd as je,O as gt,Oa as Z,Od as $e,P as Hi,Pa as J,Pb as Ln,Pd as ca,Q as O,Qa as q,Qb as si,Qd as qe,R as It,Ra as c,Rb as Pa,Rc as ee,Rd as Ge,S as xe,Sa as _,Sb as Nn,Sc as le,Ta as x,Tb as Ht,Tc as ta,Td as $,U as ii,Ua as pt,Ub as Zt,Uc as ar,Ud as X,Va as ji,Vb as ut,W as Lt,Wa as $i,Wb as Xi,Wc as te,Wd as vt,X as yi,Xa as qi,Xb as Ke,Xc as di,Xd as lr,Y as vn,Ya as At,Yb as Pn,Yc as we,Yd as $t,Z as Cn,Za as Gi,Zb as Yn,Zc as ia,Zd as Ct,_ as r,_a as m,_b as Hn,_c as L,_d as cr,a as V,aa as yn,ab as oe,ac as jn,ad as de,ae as mi,b as G,ba as La,bb as Ui,bc as $n,bd as me,be as da,cc as qn,cd as T,ce as K,d as Qe,da as ai,db as Ce,dd as pe,de as dr,e as W,ea as xn,eb as se,ed as re,fa as E,fb as In,fc as Zi,fd as ue,g as _n,ga as Ve,gb as Qi,gc as Gn,gd as Be,ge as ke,h as Bt,ha as ne,hc as Ji,hd as he,he as be,i as gn,ia as kn,ic as ht,id as it,ie as ye,ja as N,jb as Mn,jc as ea,jd as at,je as ie,k as Ni,ka as wn,kb as An,kc as Un,kd as I,ke as ge,la as Mt,lb as En,lc as Ya,ld as nt,le as mr,m as _t,ma as g,mb as Ki,mc as Qn,md as Jt,n as Qt,na as U,nb as ri,nc as bt,nd as aa,o as fn,oa as u,ob as Ze,oc as li,od as nr,p as Rt,pa as ni,pc as Kn,pd as rr,qa as F,qc as Wn,qd as Si,ra as xi,rc as Me,rd as Q,s as bn,sa as y,sd as We,ta as zi,tc as et,td as na,u as Ot,ua as z,uc as ci,ud as Re,v as ae,va as j,vb as Tn,vd as or,w as Oa,wa as s,wd as De,x as S,xa as l,xc as zt,xd as rt,ya as w,yb as Vn,yc as Xn,yd as ot,z as Kt,za as B,zb as Fn,zc as Zn,zd as st}from"./chunk-ECDUFFAM.js";var pr=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["app-home"]],decls:31,vars:12,consts:[[2,"text-align","center"],["mat-raised-button","","routerLink","/feature/actual-item",1,"home-btn"],["mat-raised-button","","routerLink","/feature/budget-variance",1,"home-btn"],["mat-raised-button","","routerLink","/feature/budget-item",1,"home-btn"],["mat-raised-button","","routerLink","/feature/create-version",1,"home-btn"]],template:function(t,i){t&1&&(s(0,"div",0)(1,"div")(2,"button",1)(3,"div"),c(4),m(5,"translate"),l(),s(6,"div")(7,"mat-icon"),c(8,"credit_card"),l()()(),s(9,"button",2)(10,"div"),c(11),m(12,"translate"),l(),s(13,"div")(14,"mat-icon"),c(15,"insights"),l()()()(),s(16,"div")(17,"button",3)(18,"div"),c(19),m(20,"translate"),l(),s(21,"div")(22,"mat-icon"),c(23,"table_chart"),l()()(),s(24,"button",4)(25,"div"),c(26),m(27,"translate"),l(),s(28,"div")(29,"mat-icon"),c(30,"123"),l()()()()()),t&2&&(r(4),_(h(5,4,"menu.transaction")),r(7),_(h(12,6,"menu.actual")),r(8),_(h(20,8,"menu.manage_budget")),r(7),_(h(27,10,"menu.new_version")))},dependencies:[K,Re,Q,Bn,X],styles:[".home-btn[_ngcontent-%COMP%]{width:80%;height:130px;margin:10px;font-size:28px}.mat-icon[_ngcontent-%COMP%]{transform:scale(2.5);margin-top:20px}@media (min-width: 600px){.home-btn[_ngcontent-%COMP%]{width:calc(50% - 20px);height:200px}}"]})}return a})();var To=["mat-calendar-body",""];function Vo(a,o){return this._trackRow(o)}var Cr=(a,o)=>o.id;function Fo(a,o){if(a&1&&(s(0,"tr",0)(1,"td",3),c(2),l()()),a&2){let e=p();r(),ni("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),U("colspan",e.numCols),r(),x(" ",e.label," ")}}function Bo(a,o){if(a&1&&(s(0,"td",3),c(1),l()),a&2){let e=p(2);ni("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),U("colspan",e._firstRowOffset),r(),x(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Ro(a,o){if(a&1){let e=M();s(0,"td",6)(1,"button",7),b("click",function(i){let n=v(e).$implicit,d=p(2);return C(d._cellClicked(n,i))})("focus",function(i){let n=v(e).$implicit,d=p(2);return C(d._emitActiveDateChange(n,i))}),s(2,"span",8),c(3),l(),w(4,"span",9),l()()}if(a&2){let e=o.$implicit,t=o.$index,i=p().$index,n=p();ni("width",n._cellWidth)("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),U("data-mat-row",i)("data-mat-col",t),r(),F("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",n._isActiveCell(i,t))("mat-calendar-body-range-start",n._isRangeStart(e.compareValue))("mat-calendar-body-range-end",n._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",n._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",n._isComparisonBridgeStart(e.compareValue,i,t))("mat-calendar-body-comparison-bridge-end",n._isComparisonBridgeEnd(e.compareValue,i,t))("mat-calendar-body-comparison-start",n._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",n._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",n._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",n._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",n._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",n._isInPreview(e.compareValue)),u("ngClass",e.cssClasses)("tabindex",n._isActiveCell(i,t)?0:-1),U("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",n._isSelected(e.compareValue))("aria-current",n.todayValue===e.compareValue?"date":null)("aria-describedby",n._getDescribedby(e.compareValue)),r(),F("mat-calendar-body-selected",n._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",n._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",n.todayValue===e.compareValue),r(),x(" ",e.displayValue," ")}}function Oo(a,o){if(a&1&&(s(0,"tr",1),g(1,Bo,2,6,"td",4),z(2,Ro,5,48,"td",5,Cr),l()),a&2){let e=o.$implicit,t=o.$index,i=p();r(),y(t===0&&i._firstRowOffset?1:-1),r(),j(e)}}function Lo(a,o){if(a&1&&(s(0,"th",2)(1,"span",6),c(2),l(),s(3,"span",3),c(4),l()()),a&2){let e=o.$implicit;r(2),_(e.long),r(2),_(e.narrow)}}var No=["*"];function Po(a,o){}function Yo(a,o){if(a&1){let e=M();s(0,"mat-month-view",4),qi("activeDateChange",function(i){v(e);let n=p();return $i(n.activeDate,i)||(n.activeDate=i),C(i)}),b("_userSelection",function(i){v(e);let n=p();return C(n._dateSelected(i))})("dragStarted",function(i){v(e);let n=p();return C(n._dragStarted(i))})("dragEnded",function(i){v(e);let n=p();return C(n._dragEnded(i))}),l()}if(a&2){let e=p();ji("activeDate",e.activeDate),u("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Ho(a,o){if(a&1){let e=M();s(0,"mat-year-view",5),qi("activeDateChange",function(i){v(e);let n=p();return $i(n.activeDate,i)||(n.activeDate=i),C(i)}),b("monthSelected",function(i){v(e);let n=p();return C(n._monthSelectedInYearView(i))})("selectedChange",function(i){v(e);let n=p();return C(n._goToDateInView(i,"month"))}),l()}if(a&2){let e=p();ji("activeDate",e.activeDate),u("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function zo(a,o){if(a&1){let e=M();s(0,"mat-multi-year-view",6),qi("activeDateChange",function(i){v(e);let n=p();return $i(n.activeDate,i)||(n.activeDate=i),C(i)}),b("yearSelected",function(i){v(e);let n=p();return C(n._yearSelectedInMultiYearView(i))})("selectedChange",function(i){v(e);let n=p();return C(n._goToDateInView(i,"year"))}),l()}if(a&2){let e=p();ji("activeDate",e.activeDate),u("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function jo(a,o){}var $o=["button"],qo=[[["","matDatepickerToggleIcon",""]]],Go=["[matDatepickerToggleIcon]"];function Uo(a,o){a&1&&(dt(),s(0,"svg",2),w(1,"path",3),l())}var fi=(()=>{class a{changes=new W;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}static \u0275fac=function(t){return new(t||a)};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Qo=0,Ai=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=Qo++;constructor(o,e,t,i,n={},d=o,A){this.value=o,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.cssClasses=n,this.compareValue=d,this.rawValue=A}},ur=Wi({passive:!1,capture:!0}),qt=Wi({passive:!0,capture:!0}),ma=Wi({passive:!0}),hi=(()=>{class a{_elementRef=f(xe);_ngZone=f(It);_platform=f(oi);_intl=f(fi);_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new O;previewChange=new O;activeDateChange=new O;dragStarted=new O;dragEnded=new O;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=f(gt);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=f(ht);this._startDateLabelId=e.getId("mat-calendar-body-start-"),this._endDateLabelId=e.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=e.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=e.getId("mat-calendar-body-comparison-end-"),f(ut).load(zt),this._ngZone.runOutsideAngular(()=>{let t=this._elementRef.nativeElement;t.addEventListener("touchmove",this._touchmoveHandler,ur),t.addEventListener("mouseenter",this._enterHandler,qt),t.addEventListener("focus",this._enterHandler,qt),t.addEventListener("mouseleave",this._leaveHandler,qt),t.addEventListener("blur",this._leaveHandler,qt),t.addEventListener("mousedown",this._mousedownHandler,ma),t.addEventListener("touchstart",this._mousedownHandler,ma),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:i,numCols:n}=this;(e.rows||t)&&(this._firstRowOffset=i&&i.length&&i[0].length?n-i[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/n}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/n}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,ur),e.removeEventListener("mouseenter",this._enterHandler,qt),e.removeEventListener("focus",this._enterHandler,qt),e.removeEventListener("mouseleave",this._leaveHandler,qt),e.removeEventListener("blur",this._leaveHandler,qt),e.removeEventListener("mousedown",this._mousedownHandler,ma),e.removeEventListener("touchstart",this._mousedownHandler,ma),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,t){let i=e*this.numCols+t;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){yi(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Ga(e,this.startValue,this.endValue)}_isRangeEnd(e){return Ua(e,this.startValue,this.endValue)}_isInRange(e){return Qa(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Ga(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let n=this.rows[t][i-1];if(!n){let d=this.rows[t-1];n=d&&d[d.length-1]}return n&&!this._isRangeEnd(n.compareValue)}_isComparisonBridgeEnd(e,t,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let n=this.rows[t][i+1];if(!n){let d=this.rows[t+1];n=d&&d[0]}return n&&!this._isRangeStart(n.compareValue)}_isComparisonEnd(e){return Ua(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Qa(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Ga(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Ua(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Qa(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let t=hr(e),i=t?this._getCellFromElement(t):null;t!==e.target&&(this._didDragSinceMouseDown=!0),qa(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:i?.enabled?i:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let t=e.target&&this._getCellFromElement(e.target);!t||!this._isInRange(t.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:t.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let t=qa(e.target);if(!t){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}t.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let i=this._getCellFromElement(t);this.dragEnded.emit({value:i?.rawValue??null,event:e})})};_touchendHandler=e=>{let t=hr(e);t&&this._mouseupHandler({target:t})};_getCellFromElement(e){let t=qa(e);if(t){let i=t.getAttribute("data-mat-row"),n=t.getAttribute("data-mat-col");if(i&&n)return this.rows[parseInt(i)][parseInt(n)]}return null}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Te],attrs:To,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){t&1&&(g(0,Fo,3,6,"tr",0),z(1,Oo,4,1,"tr",1,Vo,!0),s(3,"span",2),c(4),l(),s(5,"span",2),c(6),l(),s(7,"span",2),c(8),l(),s(9,"span",2),c(10),l()),t&2&&(y(i._firstRowOffset<i.labelMinRequiredCells?0:-1),r(),j(i.rows),r(2),u("id",i._startDateLabelId),r(),x(" ",i.startDateAccessibleName,`
`),r(),u("id",i._endDateLabelId),r(),x(" ",i.endDateAccessibleName,`
`),r(),u("id",i._comparisonStartDateLabelId),r(),pt(" ",i.comparisonDateAccessibleName," ",i.startDateAccessibleName,`
`),r(),u("id",i._comparisonEndDateLabelId),r(),pt(" ",i.comparisonDateAccessibleName," ",i.endDateAccessibleName,`
`))},dependencies:[Mn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}'],encapsulation:2,changeDetection:0})}return a})();function $a(a){return a?.nodeName==="TD"}function qa(a){let o;return $a(a)?o=a:$a(a.parentNode)?o=a.parentNode:$a(a.parentNode?.parentNode)&&(o=a.parentNode.parentNode),o?.getAttribute("data-mat-row")!=null?o:null}function Ga(a,o,e){return e!==null&&o!==e&&a<e&&a===o}function Ua(a,o,e){return o!==null&&o!==e&&a>=o&&a===e}function Qa(a,o,e,t){return t&&o!==null&&e!==null&&o!==e&&a>=o&&a<=e}function hr(a){let o=a.changedTouches[0];return document.elementFromPoint(o.clientX,o.clientY)}var ct=class{start;end;_disableStructuralEquivalency;constructor(o,e){this.start=o,this.end=e}},Ei=(()=>{class a{selection;_adapter;_selectionChanged=new W;selectionChanged=this._selectionChanged;constructor(e,t){this.selection=e,this._adapter=t,this.selection=e}updateSelection(e,t){let i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(t){yn()};static \u0275prov=H({token:a,factory:a.\u0275fac})}return a})(),Ko=(()=>{class a extends Ei{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new a(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(t){return new(t||a)(P(et))};static \u0275prov=H({token:a,factory:a.\u0275fac})}return a})();function Wo(a,o){return a||new Ko(o)}var yr={provide:Ei,deps:[[new Pi,new Yi,Ei],et],useFactory:Wo};var xr=new fe("MAT_DATE_RANGE_SELECTION_STRATEGY");var Ka=7,Xo=0,_r=(()=>{class a{_changeDetectorRef=f(Ce);_dateFormats=f(ci,{optional:!0});_dateAdapter=f(et,{optional:!0});_dir=f(Yt,{optional:!0});_rangeStrategy=f(xr,{optional:!0});_rerenderSubscription=Qe.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof ct?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new O;_userSelection=new O;dragStarted=new O;dragEnded=new O;activeDateChange=new O;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){f(ut).load(Xi),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ot(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,i=this._getDateFromDayOfMonth(t),n,d;this._selected instanceof ct?(n=this._getDateInCurrentMonth(this._selected.start),d=this._getDateInCurrentMonth(this._selected.end)):n=d=this._getDateInCurrentMonth(this._selected),(n!==t||d!==t)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!Ke(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Ka+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Ka,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let i=t?t.rawValue:null,n=this._rangeStrategy.createPreview(i,this.selected,e);if(this._previewStart=this._getCellCompareValue(n.start),this._previewEnd=this._getCellCompareValue(n.end),this.activeDrag&&i){let d=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,i,e);d&&(this._previewStart=this._getCellCompareValue(d.start),this._previewEnd=this._getCellCompareValue(d.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map((d,A)=>({long:d,narrow:t[A],id:Xo++}));this._weekdays=n.slice(e).concat(n.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,n=this._firstWeekOffset;i<e;i++,n++){n==Ka&&(this._weeks.push([]),n=0);let d=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),A=this._shouldEnableDate(d),St=this._dateAdapter.format(d,this._dateFormats.display.dateA11yLabel),hn=this.dateClass?this.dateClass(d,"month"):void 0;this._weeks[this._weeks.length-1].push(new Ai(i+1,t[i],St,A,hn,this._getCellCompareValue(d),d))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),n=this._dateAdapter.getDate(e);return new Date(t,i,n).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof ct?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(t&1&&ve(hi,5),t&2){let n;Z(n=J())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Te],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,i){t&1&&(s(0,"table",0)(1,"thead",1)(2,"tr"),z(3,Lo,5,2,"th",2,Cr),l(),s(5,"tr",3),w(6,"th",4),l()(),s(7,"tbody",5),b("selectedValueChange",function(d){return i._dateSelected(d)})("activeDateChange",function(d){return i._updateActiveDate(d)})("previewChange",function(d){return i._previewChanged(d)})("dragStarted",function(d){return i.dragStarted.emit(d)})("dragEnded",function(d){return i._dragEnded(d)})("keyup",function(d){return i._handleCalendarBodyKeyup(d)})("keydown",function(d){return i._handleCalendarBodyKeydown(d)}),l()()),t&2&&(r(3),j(i._weekdays),r(4),u("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[hi],encapsulation:2,changeDetection:0})}return a})(),Xe=24,Wa=4,gr=(()=>{class a{_changeDetectorRef=f(Ce);_dateAdapter=f(et,{optional:!0});_dir=f(Yt,{optional:!0});_rerenderSubscription=Qe.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),kr(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof ct?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new O;yearSelected=new O;activeDateChange=new O;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ot(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate)-Ii(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,n=[];i<Xe;i++)n.push(t+i),n.length==Wa&&(this._years.push(n.map(d=>this._createCellForYear(d))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,i=this._dateAdapter.createDate(t,0,1),n=this._getDateFromYear(t);this.yearSelected.emit(i),this.selectedChange.emit(n)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Wa);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Wa);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ii(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Xe-Ii(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Xe*10:-Xe);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Xe*10:Xe);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ii(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(t),n=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new Ai(e,i,i,this._shouldEnableYear(e),n)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let i=t;this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof ct){let t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(t&1&&ve(hi,5),t&2){let n;Z(n=J())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(s(0,"table",0)(1,"thead",1)(2,"tr"),w(3,"th",2),l()(),s(4,"tbody",3),b("selectedValueChange",function(d){return i._yearSelected(d)})("activeDateChange",function(d){return i._updateActiveDate(d)})("keyup",function(d){return i._handleCalendarBodyKeyup(d)})("keydown",function(d){return i._handleCalendarBodyKeydown(d)}),l()()),t&2&&(r(4),u("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[hi],encapsulation:2,changeDetection:0})}return a})();function kr(a,o,e,t,i){let n=a.getYear(o),d=a.getYear(e),A=wr(a,t,i);return Math.floor((n-A)/Xe)===Math.floor((d-A)/Xe)}function Ii(a,o,e,t){let i=a.getYear(o);return Zo(i-wr(a,e,t),Xe)}function wr(a,o,e){let t=0;return e?t=a.getYear(e)-Xe+1:o&&(t=a.getYear(o)),t}function Zo(a,o){return(a%o+o)%o}var fr=(()=>{class a{_changeDetectorRef=f(Ce);_dateFormats=f(ci,{optional:!0});_dateAdapter=f(et,{optional:!0});_dir=f(Yt,{optional:!0});_rerenderSubscription=Qe.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof ct?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new O;monthSelected=new O;activeDateChange=new O;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ot(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(i);let n=this._getDateFromMonth(t);this.selectedChange.emit(n)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,t){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),n=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),d=this.dateClass?this.dateClass(i,"year"):void 0;return new Ai(e,t.toLocaleUpperCase(),n,this._shouldEnableMonth(e),d)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(t,e,1);for(let n=i;this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let i=this._dateAdapter.getYear(this.maxDate),n=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&t>n}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let i=this._dateAdapter.getYear(this.minDate),n=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&t<n}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof ct?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(t&1&&ve(hi,5),t&2){let n;Z(n=J())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(s(0,"table",0)(1,"thead",1)(2,"tr"),w(3,"th",2),l()(),s(4,"tbody",3),b("selectedValueChange",function(d){return i._monthSelected(d)})("activeDateChange",function(d){return i._updateActiveDate(d)})("keyup",function(d){return i._handleCalendarBodyKeyup(d)})("keydown",function(d){return i._handleCalendarBodyKeydown(d)}),l()()),t&2&&(r(4),u("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[hi],encapsulation:2,changeDetection:0})}return a})(),Dr=(()=>{class a{_intl=f(fi);calendar=f(Xa);_dateAdapter=f(et,{optional:!0});_dateFormats=f(ci,{optional:!0});constructor(){f(ut).load(Xi);let e=f(Ce);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Xe)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Xe)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):kr(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-Ii(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=t+Xe-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),d=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return[n,d]}_periodButtonLabelId=f(ht).getId("mat-calendar-period-label-");static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:No,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(t,i){t&1&&(ft(),s(0,"div",0)(1,"div",1)(2,"span",2),c(3),l(),s(4,"button",3),b("click",function(){return i.currentPeriodClicked()}),s(5,"span",4),c(6),l(),dt(),s(7,"svg",5),w(8,"polygon",6),l()(),Wt(),w(9,"div",7),Fe(10),s(11,"button",8),b("click",function(){return i.previousClicked()}),dt(),s(12,"svg",9),w(13,"path",10),l()(),Wt(),s(14,"button",11),b("click",function(){return i.nextClicked()}),dt(),s(15,"svg",9),w(16,"path",12),l()()()()),t&2&&(r(2),u("id",i._periodButtonLabelId),r(),_(i.periodButtonDescription),r(),U("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),r(2),_(i.periodButtonText),r(),F("mat-calendar-invert",i.calendar.currentView!=="month"),r(4),u("disabled",!i.previousEnabled()),U("aria-label",i.prevButtonLabel),r(3),u("disabled",!i.nextEnabled()),U("aria-label",i.nextButtonLabel))},dependencies:[Q,We],encapsulation:2,changeDetection:0})}return a})(),Xa=(()=>{class a{_dateAdapter=f(et,{optional:!0});_dateFormats=f(ci,{optional:!0});_changeDetectorRef=f(Ce);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof ct?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new O;yearSelected=new O;monthSelected=new O;viewChanged=new O(!0);_userSelection=new O;_userDragDrop=new O;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}_currentView;_activeDrag=null;stateChanges=new W;constructor(){this._intlChanges=f(fi).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new si(this.headerComponent||Dr),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,n=t||i||e.dateFilter;if(n&&!n.firstChange){let d=this._getCurrentViewComponent();d&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),d._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let t=e.value;(this.selected instanceof ct||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(t&1&&(ve(_r,5),ve(fr,5),ve(gr,5)),t&2){let n;Z(n=J())&&(i.monthView=n.first),Z(n=J())&&(i.yearView=n.first),Z(n=J())&&(i.multiYearView=n.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[At([yr]),Te],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,i){if(t&1&&(g(0,Po,0,0,"ng-template",0),s(1,"div",1),g(2,Yo,1,11,"mat-month-view",2)(3,Ho,1,6,"mat-year-view",3)(4,zo,1,6,"mat-multi-year-view",3),l()),t&2){let n;u("cdkPortalOutlet",i._calendarHeaderPortal),r(2),y((n=i.currentView)==="month"?2:n==="year"?3:n==="multi-year"?4:-1)}},dependencies:[Ht,Gn,_r,fr,gr],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return a})(),br={transformPanel:Ha("transformPanel",[Di("void => enter-dropdown",wi("120ms cubic-bezier(0, 0, 0.2, 1)",ja([jt({opacity:0,transform:"scale(1, 0.8)"}),jt({opacity:1,transform:"scale(1, 1)"})]))),Di("void => enter-dialog",wi("150ms cubic-bezier(0, 0, 0.2, 1)",ja([jt({opacity:0,transform:"scale(0.7)"}),jt({transform:"none",opacity:1})]))),Di("* => void",wi("100ms linear",jt({opacity:0})))]),fadeInCalendar:Ha("fadeInCalendar",[za("void",jt({opacity:0})),za("enter",jt({opacity:1})),Di("void => *",wi("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Sr=new fe("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let a=f(bt);return()=>a.scrollStrategies.reposition()}});function Jo(a){return()=>a.scrollStrategies.reposition()}var es={provide:Sr,deps:[bt],useFactory:Jo},Ir=(()=>{class a{_elementRef=f(xe);_changeDetectorRef=f(Ce);_globalModel=f(Ei);_dateAdapter=f(et);_rangeSelectionStrategy=f(xr,{optional:!0});_subscriptions=new Qe;_model;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationState;_animationDone=new W;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){f(ut).load(Xi);let e=f(fi);this._closeButtonText=e.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,i=e.value,n=t instanceof ct;if(n&&this._rangeSelectionStrategy){let d=this._rangeSelectionStrategy.selectionFinished(i,t,e.event);this._model.updateSelection(d,this)}else i&&(n||!this._dateAdapter.sameDate(i,t))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(t&1&&ve(Xa,5),t&2){let n;Z(n=J())&&(i._calendar=n.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(t,i){t&1&&Sn("@transformPanel.start",function(d){return i._handleAnimationEvent(d)})("@transformPanel.done",function(d){return i._handleAnimationEvent(d)}),t&2&&(Dn("@transformPanel",i._animationState),xi(i.color?"mat-"+i.color:""),F("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,i){if(t&1&&(s(0,"div",0)(1,"mat-calendar",1),b("yearSelected",function(d){return i.datepicker._selectYear(d)})("monthSelected",function(d){return i.datepicker._selectMonth(d)})("viewChanged",function(d){return i.datepicker._viewChanged(d)})("_userSelection",function(d){return i._handleUserSelection(d)})("_userDragDrop",function(d){return i._handleUserDragDrop(d)}),l(),g(2,jo,0,0,"ng-template",2),s(3,"button",3),b("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),c(4),l()()),t&2){let n;F("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),U("aria-modal",!0)("aria-labelledby",(n=i._dialogLabelId)!==null&&n!==void 0?n:void 0),r(),xi(i.datepicker.panelClass),u("id",i.datepicker.id)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),r(),u("cdkPortalOutlet",i._actionsPortal),r(),F("cdk-visually-hidden",!i._closeButtonFocused),u("color",i.color||"primary"),r(),_(i._closeButtonText)}},dependencies:[qn,Xa,Ht,Q],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[br.transformPanel,br.fadeInCalendar]},changeDetection:0})}return a})(),vr=(()=>{class a{_overlay=f(bt);_viewContainerRef=f(xn);_dateAdapter=f(et,{optional:!0});_dir=f(Yt,{optional:!0});_model=f(Ei);_scrollStrategy=f(Sr);_inputStateChanges=Qe.EMPTY;_document=f(Qi);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new O;monthSelected=new O;viewChanged=new O(!0);dateClass;openedStream=new O;closedStream=new O;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=Rn(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=f(ht).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new W;_injector=f(gt);_changeDetectorRef=f(Ce);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){let i=this._overlayRef.getConfig().positionStrategy;i instanceof Qn&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Pt(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:i,location:n}=this._componentRef;i._startExitAnimation(),i._animationDone.pipe(Rt(1)).subscribe(()=>{let d=this._document.activeElement;e&&(!d||d===this._document.activeElement||n.nativeElement.contains(d))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,t=new si(Ir,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new ea({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(i).subscribe(n=>{n&&n.preventDefault(),this.close()}),i.keydownEvents().subscribe(n=>{let d=n.keyCode;(d===38||d===40||d===37||d===39||d===33||d===34)&&n.preventDefault()}),this._componentRef=i.attach(t),this._forwardContentValues(this._componentRef.instance),e||yi(()=>{i.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let t=this.xPosition==="end"?"end":"start",i=t==="start"?"end":"start",n=this.yPosition==="above"?"bottom":"top",d=n==="top"?"bottom":"top";return e.withPositions([{originX:t,originY:d,overlayX:t,overlayY:n},{originX:t,originY:n,overlayX:t,overlayY:d},{originX:i,originY:d,overlayX:i,overlayY:n},{originX:i,originY:n,overlayX:i,overlayY:d}])}_getCloseStream(e){let t=["ctrlKey","shiftKey","metaKey"];return _t(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Qt(i=>i.keyCode===27&&!Ke(i)||this.datepickerInput&&Ke(i,"altKey")&&i.keyCode===38&&t.every(n=>!Ke(i,n)))))}static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",se],disabled:[2,"disabled","disabled",se],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",se],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",se]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Mt,Te]})}return a})(),ga=(()=>{class a extends vr{static \u0275fac=(()=>{let e;return function(i){return(e||(e=mt(a)))(i||a)}})();static \u0275cmp=E({type:a,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[At([yr,{provide:vr,useExisting:a}]),N],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}return a})(),ui=class{target;targetElement;value;constructor(o,e){this.target=o,this.targetElement=e,this.value=this.target.value}},ts=(()=>{class a{_elementRef=f(xe);_dateAdapter=f(et,{optional:!0});_dateFormats=f(ci,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let t=e,i=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&i.blur&&i.blur()}_disabled;dateChange=new O;dateInput=new O;stateChanges=new W;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=Qe.EMPTY;_localeSubscription=Qe.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!t||this._matchesFilter(t)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMinDate();return!i||!t||this._dateAdapter.compareDate(i,t)<=0?null:{matDatepickerMin:{min:i,actual:t}}};_maxValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMaxDate();return!i||!t||this._dateAdapter.compareDate(i,t)>=0?null:{matDatepickerMax:{max:i,actual:t}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){let i=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new ui(this,this._elementRef.nativeElement)),this.dateChange.emit(new ui(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){is(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let t=["ctrlKey","shiftKey","metaKey"];Ke(e,"altKey")&&e.keyCode===40&&t.every(n=>!Ke(e,n))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let t=this._lastValueValid,i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i);let n=!this._dateAdapter.sameDate(i,this.value);!i||n?this._cvaOnChange(i):(e&&!this.value&&this._cvaOnChange(i),t!==this._lastValueValid&&this._validatorOnChange()),n&&(this._assignValue(i),this.dateInput.emit(new ui(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new ui(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let t=this._getDateFilter();return!t||t(e)}static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,inputs:{value:"value",disabled:[2,"disabled","disabled",se]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Mt,Te]})}return a})();function is(a,o){let e=Object.keys(a);for(let t of e){let{previousValue:i,currentValue:n}=a[t];if(o.isDateInstance(i)&&o.isDateInstance(n)){if(!o.sameDate(i,n))return!0}else return!0}return!1}var as={provide:di,useExisting:Kt(()=>bi),multi:!0},ns={provide:ia,useExisting:Kt(()=>bi),multi:!0},bi=(()=>{class a extends ts{_formField=f(ar,{optional:!0});_closedSubscription=Qe.EMPTY;_openedSubscription=Qe.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=ii(null);get min(){return this._min}set min(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=L.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){t&1&&b("input",function(d){return i._onInput(d.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(d){return i._onKeydown(d)}),t&2&&(Xt("disabled",i.disabled),U("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",i._ariaOwns())("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[At([as,ns,{provide:or,useExisting:a}]),N]})}return a})(),rs=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,selectors:[["","matDatepickerToggleIcon",""]]})}return a})(),Vi=(()=>{class a{_intl=f(fi);_changeDetectorRef=f(Ce);_stateChanges=Qe.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=f(new Hi("tabindex"),{optional:!0}),t=Number(e);this.tabIndex=t||t===0?t:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:Bt(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Bt(),i=this.datepicker?_t(this.datepicker.openedStream,this.datepicker.closedStream):Bt();this._stateChanges.unsubscribe(),this._stateChanges=_t(this._intl.changes,e,t,i).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,n){if(t&1&&Nt(n,rs,5),t&2){let d;Z(d=J())&&(i._customIcon=d.first)}},viewQuery:function(t,i){if(t&1&&ve($o,5),t&2){let n;Z(n=J())&&(i._button=n.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){t&1&&b("click",function(d){return i._open(d)}),t&2&&(U("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),F("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&i.datepicker.color==="accent")("mat-warn",i.datepicker&&i.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",se],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Mt,Te],ngContentSelectors:Go,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){t&1&&(ft(qo),s(0,"button",1,0),g(2,Uo,2,0,":svg:svg",2),Fe(3),l()),t&2&&(u("disabled",i.disabled)("disableRipple",i.disableRipple),U("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),r(2),y(i._customIcon?-1:2))},dependencies:[We],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return a})();var fa=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=Ve({type:a});static \u0275inj=Ee({providers:[fi,es],imports:[na,li,Ji,Zt,Me,Ir,Vi,Dr,Ln]})}return a})();var os=["mat-sort-header",""],ss=["*"];function ls(a,o){a&1&&(s(0,"div",2),dt(),s(1,"svg",3),w(2,"path",4),l()())}var Ar=new fe("MAT_SORT_DEFAULT_OPTIONS"),Fi=(()=>{class a{_defaultOptions;_initializedStream=new _n(1);sortables=new Map;_stateChanges=new W;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new O;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let t=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,i=cs(e.start||this.start,t),n=i.indexOf(this.direction)+1;return n>=i.length&&(n=0),i[n]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(t){return new(t||a)(k(Ar,8))};static \u0275dir=ne({type:a,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",se],disabled:[2,"matSortDisabled","disabled",se]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Mt,Te]})}return a})();function cs(a,o){let e=["asc","desc"];return a=="desc"&&e.reverse(),o||e.push(""),e}var ba=(()=>{class a{changes=new W;static \u0275fac=function(t){return new(t||a)};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function ds(a){return a||new ba}var ms={provide:ba,deps:[[new Pi,new Yi,ba]],useFactory:ds},va=(()=>{class a{_intl=f(ba);_sort=f(Fi,{optional:!0});_columnDef=f("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=f(Ce);_focusMonitor=f(Zi);_elementRef=f(xe);_ariaDescriber=f(Hn,{optional:!0});_renderChanges;_animationModule=f(Lt,{optional:!0});_recentlyCleared=ii(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}_sortActionDescription="Sort";disableClear;constructor(){f(ut).load(zt);let e=f(Ar,{optional:!0});this._sort,e?.arrowPosition&&(this.arrowPosition=e?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=_t(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let e=this._isSorted(),t=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(e&&!this._isSorted()?t:null)}}_handleKeydown(e){(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,i){t&1&&b("click",function(){return i._toggleOnInteraction()})("keydown",function(d){return i._handleKeydown(d)})("mouseleave",function(){return i._recentlyCleared.set(!1)}),t&2&&(U("aria-sort",i._getAriaSortAttribute()),F("mat-sort-header-disabled",i._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",se],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",se]},exportAs:["matSortHeader"],features:[Mt],attrs:os,ngContentSelectors:ss,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(t,i){t&1&&(ft(),s(0,"div",0)(1,"div",1),Fe(2),l(),g(3,ls,3,0,"div",2),l()),t&2&&(F("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before",i.arrowPosition==="before")("mat-sort-header-descending",i._sort.direction==="desc")("mat-sort-header-ascending",i._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",i._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",i._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",i._animationModule==="NoopAnimations"),U("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),r(3),y(i._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}"],encapsulation:2,changeDetection:0})}return a})(),Ca=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=Ve({type:a});static \u0275inj=Ee({providers:[ms],imports:[Me]})}return a})(),Pp=Wn.ENTERING+" "+Kn.STANDARD_CURVE;var Tr=a=>o=>a.budgetYearNotExist(o.value)?{budgetYearNotExist:!0}:null;var ya=class{filter=new be;budgetYears=[];actualItems=[];categories=[];trips=[];currencyItems=[];currencies=[]};var Vr=(()=>{class a extends vt{httpService;translate;constructor(e,t){super(new ya),this.httpService=e,this.translate=t}getActualItems(e){let t=this.getItemValue().filter;return t.budgetId=e,this.httpService.postItemVar(t,"actualItem/get").pipe(S(i=>{i&&(this.setItem(i),this.setItems(i.actualItems))}))}modifyActualItem(e,t){switch(t){case D.Add:return this.httpService.postItem(e,"actualItem").pipe(S(i=>this._addItem(i)));case D.Edit:return this.httpService.putItem(e,"actualItem").pipe(S(i=>this._editItem(i)));case D.Delete:return this.httpService.deleteItem(e,"actualItem").pipe(S(i=>this.deleteItem(i,"id")))}throw new Ze({error:`${t}: ${this.translate.instant("error.unknown_event")}`})}sortData(e){let t=e?e.direction==="asc":!0,i=e?e.active:"purchaseDate",n=this.getItemValues().sort((d,A)=>{switch(i){case"purchaseDate":return Si(nt(d.purchaseDate),nt(A.purchaseDate),t);case"categoryName":case"tripName":case"currencyCode":case"amount":case"note":return Si(d[i],A[i],t);default:return 0}});this.setItems(n)}setFilterItem(e,t){let i=this.getItemValue();switch(t){case"budgetYearId":i.filter.budgetYearId=+e;break;case"category":i.filter.categoryId=+e;break;case"trip":i.filter.tripId=+e;break;case"currencyCode":i.filter.currencyCode=e;break;case"note":i.filter.note=e;break}let n=V({},i);this.setItem(n),be.setFilter(i.filter)}budgetYearNotExist(e){return!this.getItemValue().budgetYears.find(i=>i.year===new Date(nt(e)).getFullYear())}_addItem(e){this.isYearInFilter(new Date(e.purchaseDate).getFullYear())&&(e.tripId=e.tripId?e.tripId:-1,this.addItem(e))}_editItem(e){this.isYearInFilter(new Date(e.purchaseDate).getFullYear())?(e.tripId=e.tripId?e.tripId:-1,this.editItem(e,"id")):this.deleteItem(e,"id")}isYearInFilter(e){let t=this.getItemValue().filter.budgetYearId,i=this.getItemValue().budgetYears.find(n=>n.id===t);return!!(i&&e===i.year||t===-1)}static \u0275fac=function(t){return new(t||a)(P(ye),P($))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function us(a,o){}var Ut=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var tn=(()=>{class a extends Nn{_elementRef=f(xe);_focusTrapFactory=f($n);_config;_interactivityChecker=f(jn);_ngZone=f(It);_overlayRef=f(Ya);_focusMonitor=f(Zi);_renderer=f(ai);_platform=f(oi);_document=f(Qi,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=f(Ce);_injector=f(gt);_isDestroyed=!1;constructor(){super(),this._config=f(Ut,{optional:!0})||new Ut,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}attachDomPortal=e=>{this._portalOutlet.hasAttached();let t=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),t};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{n(),d(),e.removeAttribute("tabindex")},n=this._renderer.listen(e,"blur",i),d=this._renderer.listen(e,"mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_trapFocus(){this._isDestroyed||yi(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let i=Pt(),n=this._elementRef.nativeElement;(!i||i===this._document.body||i===n||n.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=Pt();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Pt()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(t&1&&ve(Ht,7),t&2){let n;Z(n=J())&&(i._portalOutlet=n.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){t&2&&U("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[N],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&g(0,us,0,0,"ng-template",0)},dependencies:[Ht],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return a})(),Bi=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new W;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(o,e){this.overlayRef=o,this.config=e,this.disableClose=e.disableClose,this.backdropClick=o.backdropClick(),this.keydownEvents=o.keydownEvents(),this.outsidePointerEvents=o.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!Ke(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=o.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(o,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(o),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(o="",e=""){return this.overlayRef.updateSize({width:o,height:e}),this}addPanelClass(o){return this.overlayRef.addPanelClass(o),this}removePanelClass(o){return this.overlayRef.removePanelClass(o),this}},hs=new fe("DialogScrollStrategy",{providedIn:"root",factory:()=>{let a=f(bt);return()=>a.scrollStrategies.block()}}),_s=new fe("DialogData"),gs=new fe("DefaultDialogConfig");var an=(()=>{class a{_overlay=f(bt);_injector=f(gt);_defaultOptions=f(gs,{optional:!0});_parentDialog=f(a,{optional:!0,skipSelf:!0});_overlayContainer=f(Un);_idGenerator=f(ht);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new W;_afterOpenedAtThisLevel=new W;_ariaHiddenElements=new Map;_scrollStrategy=f(hs);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Ni(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ot(void 0)));constructor(){}open(e,t){let i=this._defaultOptions||new Ut;t=V(V({},i),t),t.id=t.id||this._idGenerator.getId("cdk-dialog-"),t.id&&this.getDialogById(t.id);let n=this._getOverlayConfig(t),d=this._overlay.create(n),A=new Bi(d,t),St=this._attachContainer(d,A,t);return A.containerInstance=St,this._attachDialogContent(e,A,St,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(A),A.closed.subscribe(()=>this._removeOpenDialog(A,!0)),this.afterOpened.next(A),A}closeAll(){en(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){en(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),en(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new ea({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,i){let n=i.injector||i.viewContainerRef?.injector,d=[{provide:Ut,useValue:i},{provide:Bi,useValue:t},{provide:Ya,useValue:e}],A;i.container?typeof i.container=="function"?A=i.container:(A=i.container.type,d.push(...i.container.providers(i))):A=tn;let St=new si(A,i.viewContainerRef,gt.create({parent:n||this._injector,providers:d}));return e.attach(St).instance}_attachDialogContent(e,t,i,n){if(e instanceof La){let d=this._createInjector(n,t,i,void 0),A={$implicit:n.data,dialogRef:t};n.templateContext&&(A=V(V({},A),typeof n.templateContext=="function"?n.templateContext():n.templateContext)),i.attachTemplatePortal(new Pa(e,null,A,d))}else{let d=this._createInjector(n,t,i,this._injector),A=i.attachComponentPortal(new si(e,n.viewContainerRef,d));t.componentRef=A,t.componentInstance=A.instance}}_createInjector(e,t,i,n){let d=e.injector||e.viewContainerRef?.injector,A=[{provide:_s,useValue:e.data},{provide:Bi,useValue:t}];return e.providers&&(typeof e.providers=="function"?A.push(...e.providers(t,e,i)):A.push(...e.providers)),e.direction&&(!d||!d.get(Yt,null,{optional:!0}))&&A.push({provide:Yt,useValue:{value:e.direction,change:Bt()}}),gt.create({parent:d||n,providers:A})}_removeOpenDialog(e,t){let i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((n,d)=>{n?d.setAttribute("aria-hidden",n):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let n=t[i];n!==e&&n.nodeName!=="SCRIPT"&&n.nodeName!=="STYLE"&&!n.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(t){return new(t||a)};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function en(a,o){let e=a.length;for(;e--;)o(a[e])}var Fr=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=Ve({type:a});static \u0275inj=Ee({providers:[an],imports:[li,Zt,Ji,Zt]})}return a})();function fs(a,o){}var ka=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!0;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},nn="mdc-dialog--open",Br="mdc-dialog--opening",Rr="mdc-dialog--closing",bs=150,vs=75,Cs=(()=>{class a extends tn{_animationMode=f(Lt,{optional:!0});_animationStateChanged=new O;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Lr(this._config.enterAnimationDuration)??bs:0;_exitAnimationDuration=this._animationsEnabled?Lr(this._config.exitAnimationDuration)??vs:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Or,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Br,nn)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(nn),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(nn),this._animationsEnabled?(this._hostElement.style.setProperty(Or,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Rr)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Br,Rr)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static \u0275fac=(()=>{let e;return function(i){return(e||(e=mt(a)))(i||a)}})();static \u0275cmp=E({type:a,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,i){t&2&&(Xt("id",i._config.id),U("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),F("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[N],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){t&1&&(s(0,"div",0)(1,"div",1),g(2,fs,0,0,"ng-template",2),l()())},dependencies:[Ht],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return a})(),Or="--mat-dialog-transition-duration";function Lr(a){return a==null?null:typeof a=="number"?a:a.endsWith("ms")?ki(a.substring(0,a.length-2)):a.endsWith("s")?ki(a.substring(0,a.length-1))*1e3:a==="0"?0:null}var xa=function(a){return a[a.OPEN=0]="OPEN",a[a.CLOSING=1]="CLOSING",a[a.CLOSED=2]="CLOSED",a}(xa||{}),vi=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new W;_beforeClosed=new W;_result;_closeFallbackTimeout;_state=xa.OPEN;_closeInteractionType;constructor(o,e,t){this._ref=o,this._containerInstance=t,this.disableClose=e.disableClose,this.id=o.id,o.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(Qt(i=>i.state==="opened"),Rt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Qt(i=>i.state==="closed"),Rt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),o.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),_t(this.backdropClick(),this.keydownEvents().pipe(Qt(i=>i.keyCode===27&&!this.disableClose&&!Ke(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),ys(this,i.type==="keydown"?"keyboard":"mouse"))})}close(o){this._result=o,this._containerInstance._animationStateChanged.pipe(Qt(e=>e.state==="closing"),Rt(1)).subscribe(e=>{this._beforeClosed.next(o),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=xa.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(o){let e=this._ref.config.positionStrategy;return o&&(o.left||o.right)?o.left?e.left(o.left):e.right(o.right):e.centerHorizontally(),o&&(o.top||o.bottom)?o.top?e.top(o.top):e.bottom(o.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(o="",e=""){return this._ref.updateSize(o,e),this}addPanelClass(o){return this._ref.addPanelClass(o),this}removePanelClass(o){return this._ref.removePanelClass(o),this}getState(){return this._state}_finishDialogClose(){this._state=xa.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function ys(a,o,e){return a._closeInteractionType=o,a.close(e)}var rn=new fe("MatMdcDialogData"),xs=new fe("mat-mdc-dialog-default-options"),ks=new fe("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let a=f(bt);return()=>a.scrollStrategies.block()}});var wa=(()=>{class a{_overlay=f(bt);_defaultOptions=f(xs,{optional:!0});_scrollStrategy=f(ks);_parentDialog=f(a,{optional:!0,skipSelf:!0});_idGenerator=f(ht);_dialog=f(an);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new W;_afterOpenedAtThisLevel=new W;dialogConfigClass=ka;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Ni(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ot(void 0)));constructor(){this._dialogRefConstructor=vi,this._dialogContainerType=Cs,this._dialogDataToken=rn}open(e,t){let i;t=V(V({},this._defaultOptions||new ka),t),t.id=t.id||this._idGenerator.getId("mat-mdc-dialog-"),t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let n=this._dialog.open(e,G(V({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:Ut,useValue:t}]},templateContext:()=>({dialogRef:i}),providers:(d,A,St)=>(i=new this._dialogRefConstructor(d,t,St),i.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:St},{provide:this._dialogDataToken,useValue:A.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=n.componentRef,i.componentInstance=n.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let d=this.openDialogs.indexOf(i);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static \u0275fac=function(t){return new(t||a)};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Nr=(()=>{class a{_dialogRef=f(vi,{optional:!0});_elementRef=f(xe);_dialog=f(wa);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=ws(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a})}return a})(),Pr=(()=>{class a extends Nr{id=f(ht).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=mt(a)))(i||a)}})();static \u0275dir=ne({type:a,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,i){t&2&&Xt("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[N]})}return a})(),Yr=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[wn([On])]})}return a})(),Hr=(()=>{class a extends Nr{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=mt(a)))(i||a)}})();static \u0275dir=ne({type:a,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(t,i){t&2&&F("mat-mdc-dialog-actions-align-start",i.align==="start")("mat-mdc-dialog-actions-align-center",i.align==="center")("mat-mdc-dialog-actions-align-end",i.align==="end")},inputs:{align:"align"},features:[N]})}return a})();function ws(a,o){let e=a.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?o.find(t=>t.id===e.id):null}var zr=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=Ve({type:a});static \u0275inj=Ee({providers:[wa],imports:[Fr,li,Zt,Me,Me]})}return a})();var $r=(()=>{class a{sanitizer;constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||a)(k(Tn,16))};static \u0275pipe=kn({name:"skipSanitizeHtml",type:a,pure:!0})}return a})();var qr=(()=>{class a{data;mdDialogRef;constructor(e,t){this.data=e,this.mdDialogRef=t}onCancel(){this.close(!1)}onConfirm(){this.close(!0)}close(e){this.mdDialogRef.close(e)}static \u0275fac=function(t){return new(t||a)(k(rn),k(vi))};static \u0275cmp=E({type:a,selectors:[["app-confirm-dialog"]],decls:10,vars:6,consts:[["mat-dialog-title",""],[3,"innerHtml"],["align","end"],["mat-stroked-button","",3,"click"],["mat-stroked-button","","cdkFocusInitial","",3,"click"]],template:function(t,i){t&1&&(s(0,"h2",0),c(1),l(),s(2,"mat-dialog-content"),w(3,"span",1),m(4,"skipSanitizeHtml"),l(),s(5,"mat-dialog-actions",2)(6,"button",3),b("click",function(){return i.onCancel()}),c(7),l(),s(8,"button",4),b("click",function(){return i.onConfirm()}),c(9),l()()),t&2&&(r(),_(i.data.title),r(2),u("innerHtml",h(4,4,i.data.message),vn),r(4),_(i.data.cancelText),r(2),_(i.data.confirmText))},dependencies:[zr,Pr,Hr,Yr,na,Q,$r],encapsulation:2,changeDetection:0})}return a})();var Ue=(()=>{class a{dialog;translate;dialogRef;constructor(e,t){this.dialog=e,this.translate=t}open(e){this.dialogRef=this.dialog.open(qr,{data:{title:e.title,message:e.message,cancelText:e.cancelText??this.translate.instant("global.cancel"),confirmText:e.confirmText??this.translate.instant("global.ok")}})}confirmed(){return this.dialogRef.afterClosed().pipe(Rt(1),gn(e=>e))}static \u0275fac=function(t){return new(t||a)(P(wa),P($))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ss=["tableWrapper"],Ri=(a,o)=>o.id,Is=()=>["sum-currency","sum-amount","sum-fill"];function Ms(a,o){if(a&1&&(s(0,"mat-error",8),c(1),l()),a&2){let e=p(4);r(),_(e.getErrorMessage(e.purchaseDate))}}function As(a,o){if(a&1&&(s(0,"mat-option",10),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.categoryName," ")}}function Es(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(4);r(),_(e.getErrorMessage(e.category))}}function Ts(a,o){if(a&1&&(s(0,"mat-option",10),c(1),m(2,"date"),m(3,"date"),l()),a&2){let e=o.$implicit;u("value",e.id),r(),pt(" ",oe(2,3,e.fromDate,"yyyy-MM-dd")," / ",oe(3,6,e.toDate,"yyyy-MM-dd")," ")}}function Vs(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(4);r(),_(e.getErrorMessage(e.trip))}}function Fs(a,o){if(a&1&&(s(0,"mat-option",10),c(1),l()),a&2){let e=o.$implicit;u("value",e),r(),x(" ",e," ")}}function Bs(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(4);r(),_(e.getErrorMessage(e.currencyCode))}}function Rs(a,o){if(a&1&&(s(0,"mat-error",16),c(1),l()),a&2){let e=p(4);r(),_(e.getErrorMessage(e.amount))}}function Os(a,o){if(a&1&&(s(0,"mat-option",10),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.year," ")}}function Ls(a,o){if(a&1&&(s(0,"mat-option",10),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.categoryName," ")}}function Ns(a,o){if(a&1&&(s(0,"mat-option",10),c(1),m(2,"date"),m(3,"date"),l()),a&2){let e=o.$implicit;u("value",e.id),r(),pt(" ",oe(2,3,e.fromDate,"yyyy-MM-dd")," / ",oe(3,6,e.toDate,"yyyy-MM-dd")," ")}}function Ps(a,o){if(a&1&&(s(0,"mat-option",10),c(1),l()),a&2){let e=o.$implicit;u("value",e),r(),x(" ",e," ")}}function Ys(a,o){if(a&1){let e=M();s(0,"mat-form-field")(1,"mat-label"),c(2),m(3,"translate"),l(),s(4,"mat-select",47),b("selectionChange",function(i){v(e);let n=p(4);return C(n.onChangeFilter(i,"budgetYearId"))}),s(5,"mat-option",10),c(6),m(7,"translate"),l(),z(8,Os,2,2,"mat-option",10,Ri),l()(),s(10,"mat-form-field")(11,"mat-label"),c(12),m(13,"translate"),l(),s(14,"mat-select",48),b("selectionChange",function(i){v(e);let n=p(4);return C(n.onChangeFilter(i,"category"))}),s(15,"mat-option",10),c(16),m(17,"translate"),l(),z(18,Ls,2,2,"mat-option",10,Ri),l()(),s(20,"mat-form-field")(21,"mat-label"),c(22),m(23,"translate"),l(),s(24,"mat-select",49),b("selectionChange",function(i){v(e);let n=p(4);return C(n.onChangeFilter(i,"trip"))}),s(25,"mat-option",10),c(26),m(27,"translate"),l(),z(28,Ns,4,9,"mat-option",10,Ri),l()(),s(30,"mat-form-field")(31,"mat-label"),c(32),m(33,"translate"),l(),s(34,"mat-select",50),b("selectionChange",function(i){v(e);let n=p(4);return C(n.onChangeFilter(i,"currencyCode"))}),s(35,"mat-option",10),c(36),m(37,"translate"),l(),z(38,Ps,2,2,"mat-option",10,zi),l()(),s(40,"mat-form-field")(41,"mat-label"),c(42),m(43,"translate"),l(),s(44,"input",51),b("input",function(i){v(e);let n=p(4);return C(n.OnFilterNote(i))}),l()()}if(a&2){let e=p(3);r(2),_(h(3,18,"ctrl.select.year")),r(2),u("value",e.filter.budgetYearId),r(),u("value",-1),r(),_(h(7,20,"ctrl.select.all_years")),r(2),j(e.budgetYears),r(4),_(h(13,22,"ctrl.select.category")),r(2),u("value",e.filter.categoryId),r(),u("value",-1),r(),_(h(17,24,"ctrl.select.all_categories")),r(2),j(e.categories),r(4),_(h(23,26,"ctrl.select.trip")),r(2),u("value",e.filter.tripId),r(),u("value",-1),r(),_(h(27,28,"ctrl.select.all_trips")),r(2),j(e.trips),r(4),_(h(33,30,"ctrl.select.currency")),r(2),u("value",e.filter.currencyCode),r(),u("value",""),r(),_(h(37,32,"ctrl.select.all_currencies")),r(2),j(e.currencies),r(4),_(h(43,34,"global.note")),r(2),u("value",e.filter.note)}}function Hs(a,o){a&1&&(s(0,"th",52),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"global.date")))}function zs(a,o){if(a&1&&(s(0,"td",53)(1,"mat-label"),c(2),m(3,"date"),l()()),a&2){let e=o.$implicit;r(2),_(oe(3,1,e.purchaseDate,"yyyy-MM-dd"))}}function js(a,o){a&1&&(s(0,"th",52),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.category")))}function $s(a,o){if(a&1&&(s(0,"td",53)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.categoryName)}}function qs(a,o){a&1&&(s(0,"th",52),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.trip")))}function Gs(a,o){if(a&1&&(s(0,"td",53)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.tripName)}}function Us(a,o){a&1&&(s(0,"th",52),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.currency")))}function Qs(a,o){if(a&1&&(s(0,"td",53)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.currencyCode!==""?e.currencyCode:"-")}}function Ks(a,o){a&1&&(s(0,"th",52),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"global.amount")))}function Ws(a,o){if(a&1&&(s(0,"td",53)(1,"mat-label"),c(2),m(3,"number"),l()()),a&2){let e=o.$implicit;r(2),_(oe(3,1,e.amount,"1.0-2"))}}function Xs(a,o){a&1&&(s(0,"th",52),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"global.note")))}function Zs(a,o){if(a&1&&(s(0,"td",53)(1,"mat-label",54),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.note)}}function Js(a,o){a&1&&w(0,"th",55)}function el(a,o){if(a&1){let e=M();s(0,"td",53)(1,"button",56),m(2,"translate"),b("click",function(i){let n=v(e).$implicit,d=p(4);return C(d.onDeleteItem(i,n))}),s(3,"mat-icon"),c(4,"delete_forever"),l()()()}a&2&&(r(),Ie("title",h(2,1,"ctrl.button.delete.transaction")))}function tl(a,o){if(a&1&&(s(0,"mat-option",10),c(1),l()),a&2){let e=o.$implicit;u("value",e),r(),x(" ",e," ")}}function il(a,o){if(a&1){let e=M();s(0,"td",57)(1,"mat-label",58),c(2),m(3,"translate"),l(),s(4,"mat-form-field",59)(5,"mat-select",60),m(6,"translate"),b("selectionChange",function(i){v(e);let n=p(4);return C(n.onChangeSumCurrency(i))}),z(7,tl,2,2,"mat-option",10,zi),l()()()}if(a&2){let e=p(3),t=p();r(2),_(h(3,3,"global.sum")),r(3),Ie("placeholder",h(6,5,"ctrl.select.currency")),u("value",t.selCurrencyCode),r(2),j(e.currencies)}}function al(a,o){if(a&1&&(s(0,"mat-label",62),c(1),m(2,"number"),l()),a&2){let e=p(5);r(),_(oe(2,1,e.sumCurrency,"1.0-2"))}}function nl(a,o){if(a&1&&(s(0,"td",61),g(1,al,3,4,"mat-label",62),l()),a&2){let e=p(4);r(),y(e.selCurrencyCode!==""?1:-1)}}function rl(a,o){a&1&&w(0,"td",63)}function ol(a,o){a&1&&w(0,"tr",64)}function sl(a,o){if(a&1){let e=M();s(0,"tr",65),b("click",function(){let i=v(e).$implicit,n=p(4);return C(n.onSelectItem(i))}),l()}if(a&2){let e=o.$implicit;F("selected",e.selected)}}function ll(a,o){a&1&&w(0,"tr",66)}function cl(a,o){if(a&1){let e=M();s(0,"form",3),b("ngSubmit",function(){v(e);let i=p(3);return C(i.onSaveActualItem())}),s(1,"div",4)(2,"mat-form-field",5)(3,"mat-label"),c(4),m(5,"translate"),l(),s(6,"input",6),b("click",function(){v(e);let i=q(9);return C(i.open())})("dateChange",function(i){v(e);let n=p(3);return C(n.onDateChanged(i))}),l(),w(7,"mat-datepicker-toggle",7)(8,"mat-datepicker",null,0),g(10,Ms,2,1,"mat-error",8),l(),s(11,"mat-form-field")(12,"mat-label"),c(13),m(14,"translate"),l(),s(15,"mat-select",9),z(16,As,2,2,"mat-option",10,Ri),l(),g(18,Es,2,1,"mat-error"),l(),s(19,"mat-form-field")(20,"mat-label"),c(21),m(22,"translate"),l(),s(23,"mat-select",11)(24,"mat-option",10),c(25),m(26,"translate"),l(),z(27,Ts,4,9,"mat-option",10,Ri),l(),g(29,Vs,2,1,"mat-error"),l(),s(30,"mat-form-field",12)(31,"mat-label",13),m(32,"translate"),c(33),m(34,"translate"),l(),s(35,"mat-select",14),z(36,Fs,2,2,"mat-option",10,zi),l(),g(38,Bs,2,1,"mat-error"),l(),s(39,"mat-form-field")(40,"mat-label"),c(41),m(42,"translate"),l(),w(43,"input",15),g(44,Rs,2,1,"mat-error",16),l()(),s(45,"mat-form-field",17)(46,"mat-label"),c(47),m(48,"translate"),l(),s(49,"textarea",18),b("focused",function(){v(e);let i=p(3);return C(i.onFocus())})("unfocused",function(){v(e);let i=p(3);return C(i.onBlur())}),l()(),s(50,"div")(51,"button",19),c(52),m(53,"translate"),l(),s(54,"mat-radio-group",20),b("change",function(){v(e);let i=p(3);return C(i.onChangeAction())}),s(55,"mat-radio-button",21),c(56),m(57,"translate"),l(),s(58,"mat-radio-button",22),c(59),m(60,"translate"),l()()()(),s(61,"div",23)(62,"div",24)(63,"button",25),b("click",function(){v(e);let i=p(3);return C(i.showFilter=!i.showFilter)}),c(64),m(65,"translate"),s(66,"mat-icon"),c(67,"filter_alt"),l()()(),g(68,Ys,45,36),l(),s(69,"div"),c(70),m(71,"translate"),l(),s(72,"div",26,1)(74,"table",27),b("matSortChange",function(i){v(e);let n=p(3);return C(n.onSortData(i))}),B(75,28),g(76,Hs,3,3,"th",29)(77,zs,4,4,"td",30),R(),B(78,31),g(79,js,3,3,"th",29)(80,$s,3,1,"td",30),R(),B(81,32),g(82,qs,3,3,"th",29)(83,Gs,3,1,"td",30),R(),B(84,33),g(85,Us,3,3,"th",29)(86,Qs,3,1,"td",30),R(),B(87,34),g(88,Ks,3,3,"th",29)(89,Ws,4,4,"td",30),R(),B(90,35),g(91,Xs,3,3,"th",29)(92,Zs,3,1,"td",30),R(),B(93,36),g(94,Js,1,0,"th",37)(95,el,5,3,"td",30),R(),B(96,38),g(97,il,9,7,"td",39),R(),B(98,40),g(99,nl,2,1,"td",41),R(),B(100,42),g(101,rl,1,0,"td",43),R(),g(102,ol,1,0,"tr",44)(103,sl,1,2,"tr",45)(104,ll,1,0,"tr",46),l()()}if(a&2){let e=q(9),t=p(2),i=p();u("formGroup",i.form),r(4),_(h(5,38,"global.date")),r(2),u("matDatepicker",e)("errorStateMatcher",i.untouchedMatcher),r(),u("for",e),r(3),y(i.purchaseDate!=null&&i.purchaseDate.invalid?10:-1),r(3),_(h(14,40,"ctrl.select.category")),r(2),u("errorStateMatcher",i.matcher),r(),j(t.categories),r(2),y(i.category!=null&&i.category.invalid?18:-1),r(3),_(h(22,42,"ctrl.select.trip")),r(2),u("errorStateMatcher",i.matcher),r(),u("value",-1),r(),_(h(26,44,"ctrl.select.no_trip")),r(2),j(t.trips),r(2),y(i.trip!=null&&i.trip.invalid?29:-1),r(2),u("title",h(32,46,"ctrl.select.currency")),r(2),_(h(34,48,"ctrl.select.currency")),r(2),u("errorStateMatcher",i.matcher),r(),j(t.currencies),r(2),y(i.currencyCode!=null&&i.currencyCode.invalid?38:-1),r(3),_(h(42,50,"global.amount")),r(2),u("errorStateMatcher",i.matcher),r(),y(i.amount!=null&&i.amount.invalid?44:-1),r(3),_(h(48,52,"global.note")),r(2),u("rows",i.noteFieldRows),r(2),u("disabled",(i.amount==null?null:i.amount.invalid)||(i.purchaseDate==null?null:i.purchaseDate.invalid)||(i.category==null?null:i.category.invalid)||(i.trip==null?null:i.trip.invalid)||(i.currencyCode==null?null:i.currencyCode.invalid)||(i.category==null?null:i.category.value)===-1),r(),x(" ",h(53,54,"ctrl.button.save.transaction")," "),r(4),_(h(57,56,"global.add")),r(2),u("disabled",(i.action==null?null:i.action.value)==="add"),r(),x(" ",h(60,58,"global.edit")," "),r(5),x(" ",h(65,60,"ctrl.button.filter")," "),r(4),y(i.showFilter?68:-1),r(2),pt("",h(71,62,"page.label.transaction_count"),": ",t.actualItems.length,""),r(4),u("dataSource",i.actualItems()),r(28),u("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),r(),u("matRowDefColumns",i.displayedColumns),r(),u("matFooterRowDef",Gi(64,Is))("matFooterRowDefSticky",!0)}}function dl(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),s(3,"a",67),c(4),m(5,"translate"),l(),c(6,`.
`),l()),a&2&&(r(),x(" ",h(2,2,"page.empty.category")," "),r(3),_(h(5,4,"page.link.add_category")))}function ml(a,o){if(a&1&&g(0,dl,7,6,"div"),a&2){let e=p(3);y(e.pageLoaded()?0:-1)}}function pl(a,o){if(a&1&&g(0,cl,105,65)(1,ml,1,1),a&2){let e=p();y(e.categories.length!==0?0:1)}}function ul(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.empty.budget")))}function hl(a,o){if(a&1&&g(0,ul,3,3,"div"),a&2){let e=p(2);y(e.pageLoaded()?0:-1)}}function _l(a,o){a&1&&g(0,pl,2,1)(1,hl,1,1),a&2&&y(o.budgetYears.length!==0?0:1)}var Gr=(()=>{class a extends ge{actualItemService;budgetStateService;dialogService;messageBoxService;renderer;translate;form;manageActualItem;actualItems;displayedColumns=["purchaseDate","categoryName","tripName","currencyCode","amount","note","delete"];sumCurrency;selCurrencyCode="";untouchedMatcher=new sr;noteFieldRows=1;showFilter=!1;filterNote$=new W;tableRef;get action(){return this.form.get("action")}get category(){return this.form.get("category")}get trip(){return this.form.get("trip")}get purchaseDate(){return this.form.get("purchaseDate")}get currencyCode(){return this.form.get("currencyCode")}get amount(){return this.form.get("amount")}get note(){return this.form.get("note")}set tableElementContent(e){e&&(this.tableRef=e,this.setTableHeight(this.tableRef))}constructor(e,t,i,n,d,A){super(),this.actualItemService=e,this.budgetStateService=t,this.dialogService=i,this.messageBoxService=n,this.renderer=d,this.translate=A,this.form=new me({action:new T(D.Add.toString(),{nonNullable:!0}),id:new T(-1,{nonNullable:!0}),category:new T(-1,L.required),trip:new T(-1,{validators:L.required,nonNullable:!0}),purchaseDate:new T(new Date,[L.required,Tr(this.actualItemService)]),currencyCode:new T(null,L.required),amount:new T(null,[L.required,ra()]),note:new T("")}),this.manageActualItem=this.actualItemService.getItem(),this.actualItems=this.actualItemService.getItems()}onResizeWindow(e){this.setTableHeight(this.tableRef)}ngOnInit(){I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>{this.budgetState=e;let t=this.actualItemService.getItemValue(),i=G(V({},t),{filter:be.getFilter()});this.actualItemService.setItem(i)}),ae(e=>I(this.actualItemService.getActualItems(e.budgetId),this.sub$))).subscribe(e=>{if(e.currencies.length==1){this.currencyCode?.setValue(e.currencies[0]),this.selCurrencyCode=e.currencies[0];let t=this.actualItemService.getItemValue();t.filter.currencyCode=this.selCurrencyCode;let i=V({},t);this.actualItemService.setItem(i)}else this.selCurrencyCode="";this.pageLoaded.set(!0)}),I(this.filterNote$,this.sub$).pipe(fn(500),bn()).subscribe(e=>{this.actualItemService.setFilterItem(e,"note"),this.getActualItems()})}onFocus(){this.noteFieldRows=4}onBlur(){this.noteFieldRows=1}onChangeAction(){this.action?.value===D.Add&&this.actualItemService.clearSelection()}onDateChanged(e){e.value===null?this.purchaseDate?.setErrors({invalidDate:!0}):this.purchaseDate?.setValue(nt(e.value))}onDeleteItem(e,t){e.stopPropagation();let i={title:`${this.translate.instant("ctrl.button.delete.transaction")}?`,message:`${this.translate.instant("dialog.confirm.remove_transaction")} ${this.budgetState.budgetName}.`};this.dialogService.open(i),I(this.dialogService.confirmed(),this.sub$).subscribe(n=>{n&&this.modifyItem(t,D.Delete)})}onSelectItem(e){this.actualItemService.selectItem(e),this.noteFieldRows=rr(e.note)>1?4:1;let t=e.tripId??-1;this.form.patchValue({action:D.Edit,id:e.id,category:e.categoryId,trip:t,purchaseDate:e.purchaseDate,currencyCode:e.currencyCode,amount:e.amount,note:e.note})}onSaveActualItem(){let e=this.form.getRawValue(),t=this.actualItemService.getItemValue(),i=t.categories.find(d=>d.id===e.category),n=t.trips.find(d=>d.id===e.trip);if(e.category&&e.purchaseDate&&e.currencyCode&&e.amount){let d={id:e.id,budgetId:ke.getSelectedBudgetId(),categoryId:e.category,tripId:e.trip,purchaseDate:e.purchaseDate,currencyCode:e.currencyCode,amount:aa(e.amount),note:e.note?e.note:"",categoryName:i?.categoryName,tripName:n?`${nt(n.fromDate)} / ${nt(n.toDate)}`:""};this.modifyItem(d,e.action)}}onChangeSumCurrency(e){this.selCurrencyCode=e.value,this.calculateTotalAmount()}onChangeFilter(e,t){this.actualItemService.setFilterItem(e.value,t),this.getActualItems()}OnFilterNote(e){let t=e.target.value;this.filterNote$.next(t)}onSortData(e){this.actualItemService.sortData(e)}getActualItems(){I(this.actualItemService.getActualItems(this.budgetState.budgetId),this.sub$).subscribe(e=>{this.calculateTotalAmount()})}modifyItem(e,t){I(this.actualItemService.modifyActualItem(e,t),this.sub$).subscribe(()=>{this.calculateTotalAmount(),this.resetForm(),this.messageBoxService.show()})}calculateTotalAmount(){if(this.selCurrencyCode!==""){let e=0,t=this.findCurrency(this.selCurrencyCode);this.actualItemService.getItemValues().forEach(i=>{if(!t||i.currencyCode===t.currencyCode)e+=i.amount;else{let n=this.findCurrency(i.currencyCode);n&&(e+=i.amount*(n.averageRate/t.averageRate))}}),this.sumCurrency=e}}findCurrency(e){return this.actualItemService.getItemValue().currencyItems.find(t=>t.currencyCode===e)}resetForm(){this.category?.reset(),this.trip?.reset(),this.currencyCode?.reset(),this.amount?.reset(),this.note?.reset(),this.form.patchValue({action:D.Add,trip:-1,currencyCode:""})}setTableHeight(e){e&&window.innerHeight>600&&setTimeout(()=>{let t=`${window.innerHeight-e.nativeElement.getBoundingClientRect().top-20}px`;this.renderer.setStyle(e.nativeElement,"height",t)},0)}static \u0275fac=function(t){return new(t||a)(k(Vr),k(ie),k(Ue),k(_e),k(ai),k($))};static \u0275cmp=E({type:a,selectors:[["app-actual-item"]],viewQuery:function(t,i){if(t&1&&ve(Ss,5),t&2){let n;Z(n=J())&&(i.tableElementContent=n.first)}},hostBindings:function(t,i){t&1&&b("resize",function(d){return i.onResizeWindow(d)},!1,Cn)},features:[N],decls:6,vars:5,consts:[["purchaseDatePicker",""],["tableWrapper",""],[1,"title"],["data-testid","form",3,"ngSubmit","formGroup"],[1,"form-field-error"],[2,"width","140px"],["matInput","","formControlName","purchaseDate","required","","data-testid","purchaseDate",3,"click","dateChange","matDatepicker","errorStateMatcher"],["matSuffix","",3,"for"],["data-testid","date-error"],["formControlName","category","required","","data-testid","category",3,"errorStateMatcher"],[3,"value"],["formControlName","trip","required","",3,"errorStateMatcher"],[2,"max-width","130px"],[3,"title"],["formControlName","currencyCode","data-testid","currencyCode",3,"errorStateMatcher"],["matInput","","type","text","formControlName","amount","required","","data-testid","amount",3,"errorStateMatcher"],["data-testid","amount-error"],[1,"form-field-note"],["matInput","","formControlName","note","appFocus","","data-testid","note",3,"focused","unfocused","rows"],["mat-flat-button","","type","submit","data-testid","submit",3,"disabled"],["formControlName","action","data-testid","action",1,"v-radio-group",3,"change"],["value","add"],["value","edit",3,"disabled"],[1,"row-xl","filter"],[1,"row-md"],["mat-button","","type","button","data-testid","show-filter",3,"click"],[1,"max-table-height"],["mat-table","","matSort","","matSortDisableClear","","data-testid","sort",1,"tbl",3,"matSortChange","dataSource"],["matColumnDef","purchaseDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","tripName"],["matColumnDef","currencyCode"],["matColumnDef","amount"],["matColumnDef","note"],["matColumnDef","delete"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","sum-currency"],["mat-footer-cell","","colspan","4",4,"matFooterCellDef"],["matColumnDef","sum-amount"],["mat-footer-cell","","colspan","1","style","text-align: right",4,"matFooterCellDef"],["matColumnDef","sum-fill"],["mat-footer-cell","","colspan","2",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","data-testid","select-item",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["data-testid","filter-year",3,"selectionChange","value"],["data-testid","filter-category",3,"selectionChange","value"],["data-testid","filter-trip",3,"selectionChange","value"],["data-testid","filter-currency-code",3,"selectionChange","value"],["matInput","","type","text","data-testid","filter-note",3,"input","value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"shorten-text-s"],["mat-header-cell",""],["mat-icon-button","","type","button","data-testid","delete",3,"click","title"],["mat-footer-cell","","colspan","4"],[2,"margin-right","6px","line-height","60px"],["floatlLabel","never",1,"form-field-no-error","transparent-select"],["data-testid","sum-currency",3,"selectionChange","value","placeholder"],["mat-footer-cell","","colspan","1",2,"text-align","right"],[2,"line-height","60px"],["mat-footer-cell","","colspan","2"],["mat-header-row",""],["mat-row","","data-testid","select-item",3,"click"],["mat-footer-row",""],["href","/feature/category"]],template:function(t,i){if(t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",2),c(4),l()(),g(5,_l,2,1)),t&2){let n;r(),x(" ",h(2,3,"page.title.transactions")," "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y((n=i.pageLoaded()&&i.manageActualItem())?5:-1,n)}},dependencies:[K,Re,Q,We,De,te,ee,le,ta,da,ri,Ki,he,pe,we,ce,de,Be,re,ue,Ge,Oe,Ne,ze,Pe,Le,je,oa,la,Ye,He,sa,$e,qe,ca,at,it,tt,st,rt,ot,fa,ga,bi,Vi,Ca,Fi,va,X],styles:["table.tbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){text-align:right}table.tbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5){direction:rtl;justify-content:flex-end}.max-table-height[_ngcontent-%COMP%]{max-height:unset}"],changeDetection:0})}return a})();var Ur=(a,o,e,t)=>i=>{let n=i.get(o),d=i.get(e),A=i.get(t);return n&&d&&A&&a.unique(+n.value,+d.value,A.value)?(n.setErrors({unique:!0}),d.setErrors({unique:!0}),{unique:!0}):(n?.setErrors(null),d?.setErrors(null),null)};var Sa=class{filter=new be;version;budgetItems=[];currencies=[];budgetYears=[];categories=[];units=[]};var Qr=(()=>{class a extends vt{httpService;translate;constructor(e,t){super(new Sa),this.httpService=e,this.translate=t}getBudgetItems(e){let t=this.getItemValue().filter;return t.budgetId=e,this.httpService.postItemVar(t,"budgetItem/get").pipe(S(i=>{i&&(this.setItem(i),this.setItems(i.budgetItems))}))}modifyBudgetItem(e,t){switch(t){case D.Add:return this.httpService.postItem(e,"budgetItem").pipe(S(i=>this.addItem(i)));case D.Edit:return this.httpService.putItem(e,"budgetItem").pipe(S(i=>this.editItem(i,"id")));case D.Delete:return this.httpService.deleteItem(e,"budgetItem").pipe(S(i=>this.deleteItem(i,"id")))}throw new Ze({error:`${t}: ${this.translate.instant("error.unknown_event")}`})}unique(e,t,i){return!e||!t||!i?!1:this.getItemValues(i===D.Edit).findIndex(d=>d.categoryId===e&&d.unitId===t)!==-1}setFilterItem(e,t){let i=this.getItemValue();switch(t){case"budgetYearId":i.filter.budgetYearId=+e;break;case"category":i.filter.categoryId=+e;break}let n=V({},i);this.setItem(n),be.setFilter(i.filter)}static \u0275fac=function(t){return new(t||a)(P(ye),P($))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ia=(a,o)=>o.id,fl=(a,o)=>o.code;function bl(a,o){if(a&1&&(s(0,"mat-option",4),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.year," ")}}function vl(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(5);r(),_(e.getErrorMessage(e.budgetYearId))}}function Cl(a,o){if(a&1&&(s(0,"mat-option",4),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.categoryName," ")}}function yl(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(5);r(),_(e.getErrorMessage(e.category))}}function xl(a,o){if(a&1&&(s(0,"mat-option",4),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.unitName," ")}}function kl(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(5);r(),_(e.getErrorMessage(e.unit))}}function wl(a,o){if(a&1&&(s(0,"mat-option",4),c(1),l()),a&2){let e=o.$implicit;u("value",e.code),r(),x(" ",e.code," ")}}function Dl(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(6);r(),_(e.getErrorMessage(e.currencyCode))}}function Sl(a,o){if(a&1&&(s(0,"mat-form-field")(1,"mat-label"),c(2),m(3,"translate"),l(),s(4,"mat-select",29),z(5,wl,2,2,"mat-option",4,fl),l(),g(7,Dl,2,1,"mat-error"),l()),a&2){let e=p(4),t=p();r(2),_(h(3,3,"ctrl.select.currency")),r(2),u("errorStateMatcher",t.matcher),r(),j(e.currencies),r(2),y(t.currencyCode!=null&&t.currencyCode.invalid?7:-1)}}function Il(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(5);r(),_(e.getErrorMessage(e.unitValue))}}function Ml(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(5);r(),_(e.getErrorMessage(e.note))}}function Al(a,o){if(a&1&&(s(0,"mat-option",4),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.categoryName," ")}}function El(a,o){if(a&1){let e=M();s(0,"mat-form-field")(1,"mat-label"),c(2),m(3,"translate"),l(),s(4,"mat-select",30),b("selectionChange",function(i){v(e);let n=p(5);return C(n.onChangeFilter(i,"category"))}),s(5,"mat-option",4),c(6),m(7,"translate"),l(),z(8,Al,2,2,"mat-option",4,Ia),l()()}if(a&2){let e=p(4);r(2),_(h(3,4,"ctrl.select.category")),r(2),u("value",e.filter.categoryId),r(),u("value",-1),r(),_(h(7,6,"ctrl.select.all_categories")),r(2),j(e.categories)}}function Tl(a,o){a&1&&(s(0,"th",31),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.category")))}function Vl(a,o){if(a&1&&(s(0,"td",32)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.categoryName)}}function Fl(a,o){a&1&&(s(0,"th",31),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.unit")))}function Bl(a,o){if(a&1&&(s(0,"td",32)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.unitName)}}function Rl(a,o){a&1&&(s(0,"th",31),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.currency")))}function Ol(a,o){if(a&1&&(s(0,"td",32)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.currencyCode!==""?e.currencyCode:"-")}}function Ll(a,o){a&1&&(s(0,"th",31),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"ctrl.input.value")))}function Nl(a,o){if(a&1&&(s(0,"td",32)(1,"mat-label"),c(2),m(3,"number"),l()()),a&2){let e=o.$implicit;r(2),_(oe(3,1,e.unitValue,"1.0-2"))}}function Pl(a,o){a&1&&(s(0,"th",31),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"global.note")))}function Yl(a,o){if(a&1&&(s(0,"td",32)(1,"mat-label",33),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.note)}}function Hl(a,o){a&1&&w(0,"th",31)}function zl(a,o){if(a&1){let e=M();s(0,"td",32)(1,"button",34),m(2,"translate"),b("click",function(i){let n=v(e).$implicit,d=p(5);return C(d.onDeleteItem(i,n))}),s(3,"mat-icon"),c(4,"delete_forever"),l()()()}a&2&&(r(),Ie("title",h(2,1,"ctrl.button.delete.budget_item")))}function jl(a,o){a&1&&w(0,"tr",35)}function $l(a,o){if(a&1){let e=M();s(0,"tr",36),b("click",function(){let i=v(e).$implicit,n=p(5);return C(n.onSelectItem(i))}),l()}if(a&2){let e=o.$implicit;F("selected",e.selected)}}function ql(a,o){if(a&1){let e=M();s(0,"form",1),b("ngSubmit",function(){v(e);let i=p(4);return C(i.onSaveBudgetItem())}),s(1,"div",2)(2,"mat-form-field")(3,"mat-label"),c(4),m(5,"translate"),l(),s(6,"mat-select",3),b("selectionChange",function(i){v(e);let n=p(4);return C(n.onChangeYear(i))}),z(7,bl,2,2,"mat-option",4,Ia),l(),g(9,vl,2,1,"mat-error"),l(),s(10,"span",5),c(11),m(12,"translate"),l()(),s(13,"div",2)(14,"mat-form-field")(15,"mat-label"),c(16),m(17,"translate"),l(),s(18,"mat-select",6),z(19,Cl,2,2,"mat-option",4,Ia),l(),g(21,yl,2,1,"mat-error"),l(),s(22,"mat-form-field")(23,"mat-label"),c(24),m(25,"translate"),l(),s(26,"mat-select",7),b("selectionChange",function(i){v(e);let n=p(4);return C(n.onChangeUnit(i))}),z(27,xl,2,2,"mat-option",4,Ia),l(),g(29,kl,2,1,"mat-error"),l(),g(30,Sl,8,5,"mat-form-field"),s(31,"mat-form-field")(32,"mat-label"),c(33),m(34,"translate"),l(),w(35,"input",8),g(36,Il,2,1,"mat-error"),l()(),s(37,"mat-form-field",9)(38,"mat-label"),c(39),m(40,"translate"),l(),s(41,"textarea",10),b("focused",function(){v(e);let i=p(4);return C(i.onFocus())})("unfocused",function(){v(e);let i=p(4);return C(i.onBlur())}),l(),g(42,Ml,2,1,"mat-error"),l(),s(43,"div")(44,"button",11),c(45),m(46,"translate"),l(),s(47,"mat-radio-group",12),b("change",function(){v(e);let i=p(4);return C(i.onChangeAction())}),s(48,"mat-radio-button",13),c(49),m(50,"translate"),l(),s(51,"mat-radio-button",14),c(52),m(53,"translate"),l()()()(),s(54,"div",15)(55,"div")(56,"button",16),b("click",function(){v(e);let i=p(4);return C(i.showFilter=!i.showFilter)}),c(57),m(58,"translate"),s(59,"mat-icon"),c(60,"filter_alt"),l()()(),g(61,El,10,8,"mat-form-field"),l(),s(62,"div",17)(63,"table",18),B(64,19),g(65,Tl,3,3,"th",20)(66,Vl,3,1,"td",21),R(),B(67,22),g(68,Fl,3,3,"th",20)(69,Bl,3,1,"td",21),R(),B(70,23),g(71,Rl,3,3,"th",20)(72,Ol,3,1,"td",21),R(),B(73,24),g(74,Ll,3,3,"th",20)(75,Nl,4,4,"td",21),R(),B(76,25),g(77,Pl,3,3,"th",20)(78,Yl,3,1,"td",21),R(),B(79,26),g(80,Hl,1,0,"th",20)(81,zl,5,3,"td",21),R(),g(82,jl,1,0,"tr",27)(83,$l,1,2,"tr",28),l()()}if(a&2){let e=p(3),t=p();u("formGroup",t.form),r(4),_(h(5,30,"ctrl.select.year")),r(2),u("errorStateMatcher",t.matcher),r(),j(e.budgetYears),r(2),y(t.budgetYearId!=null&&t.budgetYearId.invalid?9:-1),r(2),pt("",h(12,32,"page.label.current_version"),": ",e==null||e.version==null?null:e.version.versionName,""),r(5),_(h(17,34,"ctrl.select.category")),r(2),u("errorStateMatcher",t.matcher),r(),j(e.categories),r(2),y(t.category!=null&&t.category.invalid?21:-1),r(3),_(h(25,36,"ctrl.select.unit")),r(2),u("errorStateMatcher",t.matcher),r(),j(e.units),r(2),y(t.unit!=null&&t.unit.invalid?29:-1),r(),y(t.useCurrency?30:-1),r(3),_(h(34,38,"ctrl.input.value")),r(2),u("errorStateMatcher",t.matcher),r(),y(t.unitValue!=null&&t.unitValue.invalid?36:-1),r(3),_(h(40,40,"global.note")),r(2),u("rows",t.noteFieldRows),r(),y(t.note!=null&&t.note.invalid?42:-1),r(2),u("disabled",(t.category==null?null:t.category.invalid)||(t.unit==null?null:t.unit.invalid)||(t.unitValue==null?null:t.unitValue.invalid)||(t.category==null?null:t.category.value)===-1||(t.unit==null?null:t.unit.value)===-1||t.useCurrency&&(t.currencyCode==null?null:t.currencyCode.value)===-1||t.useCurrency&&(t.currencyCode==null?null:t.currencyCode.invalid)),r(),x(" ",h(46,42,"ctrl.button.save.budget_item")," "),r(4),_(h(50,44,"global.add")),r(2),u("disabled",(t.action==null?null:t.action.value)==="add"),r(),_(h(53,46,"global.edit")),r(5),x(" ",h(58,48,"ctrl.button.filter")," "),r(4),y(t.showFilter?61:-1),r(2),u("dataSource",t.budgetItems()),r(19),u("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),r(),u("matRowDefColumns",t.displayedColumns)}}function Gl(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),s(3,"a",37),c(4),m(5,"translate"),l(),c(6,`.
`),l()),a&2&&(r(),x(" ",h(2,2,"page.empty.unit")," "),r(3),_(h(5,4,"page.link.add_unit")))}function Ul(a,o){if(a&1&&g(0,Gl,7,6,"div"),a&2){let e=p(4);y(e.pageLoaded()?0:-1)}}function Ql(a,o){if(a&1&&g(0,ql,84,50)(1,Ul,1,1),a&2){let e=p(2);y(e.units.length!==0?0:1)}}function Kl(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),s(3,"a",38),c(4),m(5,"translate"),l(),c(6,`.
`),l()),a&2&&(r(),x(" ",h(2,2,"page.empty.category")," "),r(3),_(h(5,4,"page.link.add_category")))}function Wl(a,o){if(a&1&&g(0,Kl,7,6,"div"),a&2){let e=p(3);y(e.pageLoaded()?0:-1)}}function Xl(a,o){if(a&1&&g(0,Ql,2,1)(1,Wl,1,1),a&2){let e=p();y(e.categories.length!==0?0:1)}}function Zl(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.empty.budget")))}function Jl(a,o){if(a&1&&g(0,Zl,3,3,"div"),a&2){let e=p(2);y(e.pageLoaded()?0:-1)}}function ec(a,o){a&1&&g(0,Xl,2,1)(1,Jl,1,1),a&2&&y(o.budgetYears.length!==0?0:1)}var Kr=(()=>{class a extends ge{budgetItemService;budgetStateService;dialogService;messageBoxService;translate;form;manageBudgetItem;budgetItems;displayedColumns=["category","unit","currencyCode","unitValue","note","delete"];useCurrency=!0;noteFieldRows=1;showFilter=!1;get action(){return this.form.get("action")}get budgetYearId(){return this.form.get("budgetYearId")}get category(){return this.form.get("category")}get unit(){return this.form.get("unit")}get currencyCode(){return this.form.get("currencyCode")}get unitValue(){return this.form.get("unitValue")}get note(){return this.form.get("note")}constructor(e,t,i,n,d){super(),this.budgetItemService=e,this.budgetStateService=t,this.dialogService=i,this.messageBoxService=n,this.translate=d,this.form=new me({id:new T(-1,{nonNullable:!0}),action:new T(D.Add.toString(),{nonNullable:!0}),versionId:new T(-1),budgetYearId:new T(-1,L.required),versionName:new T(""),category:new T(-1,L.required),unit:new T(-1,L.required),currencyCode:new T("",L.required),unitValue:new T(null,[L.required,ra()]),note:new T("")},{validators:[Ur(this.budgetItemService,"category","unit","action")]}),this.manageBudgetItem=this.budgetItemService.getItem(),this.budgetItems=this.budgetItemService.getItems()}ngOnInit(){I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>{this.budgetState=e;let t=this.budgetItemService.getItemValue(),i=G(V({},t),{filter:be.getFilter()});this.budgetItemService.setItem(i)}),ae(e=>I(this.budgetItemService.getBudgetItems(e.budgetId),this.sub$))).subscribe(e=>{e&&e.budgetYears.length>0&&(this.resetForm(),this.budgetYearId?.setValue(e.filter.budgetYearId),this.form.get("versionId")?.setValue(e.version.id),e.currencies.length==1&&this.currencyCode?.setValue(e.currencies[0].code)),this.pageLoaded.set(!0)})}onFocus(){this.noteFieldRows=4}onBlur(){this.noteFieldRows=1}onChangeAction(){this.action?.value===D.Add&&(this.budgetItemService.clearSelection(),this.resetForm())}onSelectItem(e){this.budgetItemService.selectItem(e),this.useCurrency=this.budgetItemService.getItemValue().units.find(t=>t.id===e.unitId)?.useCurrency??!0,this.form.patchValue({action:D.Edit,id:e.id,category:e.categoryId,unit:e.unitId,currencyCode:this.useCurrency?e.currencyCode:"",unitValue:e.unitValue,note:e.note})}onDeleteItem(e,t){e.stopPropagation();let i={title:`${this.translate.instant("ctrl.button.delete.budget_item")}?`,message:`${this.translate.instant("dialog.confirm.remove_budget_item")} ${this.budgetState.budgetName}.`};this.dialogService.open(i),I(this.dialogService.confirmed(),this.sub$).subscribe(n=>{n&&this.modifyItem(t,D.Delete)})}onSaveBudgetItem(){let e=this.form.getRawValue(),t=this.budgetItemService.getItemValue(),i=t.categories.find(d=>d.id===e.category),n=t.units.find(d=>d.id===e.unit);if(e.versionId&&e.category&&e.unit){let d={id:e.id,versionId:e.versionId,categoryId:e.category,unitId:e.unit,currencyCode:this.useCurrency&&e.currencyCode?e.currencyCode:"",unitValue:aa(e.unitValue),note:e.note?e.note:"",categoryName:i?.categoryName,unitName:n?.unitName};this.modifyItem(d,e.action)}}onChangeYear(e){this.budgetItemService.setFilterItem(e.value,"budgetYearId"),this.getBudgetItems()}onChangeUnit(e){this.useCurrency=this.budgetItemService.getItemValue().units.find(t=>t.id===+e.value)?.useCurrency??!0}onChangeFilter(e,t){this.budgetItemService.setFilterItem(e.value,t),this.getBudgetItems()}getBudgetItems(){I(this.budgetItemService.getBudgetItems(this.budgetState.budgetId),this.sub$).subscribe(e=>{this.resetForm(),this.budgetYearId?.setValue(e.filter.budgetYearId),this.form.get("versionId")?.setValue(e.version.id)})}modifyItem(e,t){I(this.budgetItemService.modifyBudgetItem(e,t),this.sub$).subscribe(()=>{this.resetForm(),this.messageBoxService.show()})}resetForm(){this.category?.reset(),this.unit?.reset(),this.currencyCode?.reset(),this.unitValue?.reset(),this.note?.reset(),this.form.patchValue({action:D.Add})}static \u0275fac=function(t){return new(t||a)(k(Qr),k(ie),k(Ue),k(_e),k($))};static \u0275cmp=E({type:a,selectors:[["app-budget-item"]],features:[N],decls:6,vars:5,consts:[[1,"title"],[3,"ngSubmit","formGroup"],[1,"form-field-error"],["formControlName","budgetYearId","required","",3,"selectionChange","errorStateMatcher"],[3,"value"],[1,"year-version"],["formControlName","category","required","",3,"errorStateMatcher"],["formControlName","unit","required","",3,"selectionChange","errorStateMatcher"],["matInput","","type","text","formControlName","unitValue","required","",3,"errorStateMatcher"],[1,"form-field-note"],["matInput","","formControlName","note","rows","4","appFocus","",3,"focused","unfocused","rows"],["mat-flat-button","","type","submit",3,"disabled"],["formControlName","action",1,"v-radio-group",3,"change"],["value","add"],["value","edit",3,"disabled"],[1,"row-xl","filter"],["mat-button","","type","button","data-testid","show-filter",3,"click"],[1,"max-table-height"],["mat-table","",1,"tbl",3,"dataSource"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","unit"],["matColumnDef","currencyCode"],["matColumnDef","unitValue"],["matColumnDef","note"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["formControlName","currencyCode",3,"errorStateMatcher"],[3,"selectionChange","value"],["mat-header-cell",""],["mat-cell",""],[1,"shorten-text-s"],["mat-icon-button","","type","button",3,"click","title"],["mat-header-row",""],["mat-row","",3,"click"],["href","/feature/unit"],["href","/feature/category"]],template:function(t,i){if(t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",0),c(4),l()(),g(5,ec,2,1)),t&2){let n;r(),x(" ",h(2,3,"page.title.manage_budget")," "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y((n=i.pageLoaded()&&i.manageBudgetItem())?5:-1,n)}},dependencies:[K,Re,Q,We,De,te,ee,le,da,ri,he,pe,we,ce,de,Be,re,ue,Ge,Oe,Ne,ze,Pe,Le,je,Ye,He,$e,qe,at,it,tt,st,rt,ot,X],styles:["table.tbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), table.tbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){text-align:right}"],changeDetection:0})}return a})();var tc=["input"],ic=["label"],ac=["*"],nc=new fe("mat-checkbox-default-options",{providedIn:"root",factory:Xr});function Xr(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Se=function(a){return a[a.Init=0]="Init",a[a.Checked=1]="Checked",a[a.Unchecked=2]="Unchecked",a[a.Indeterminate=3]="Indeterminate",a}(Se||{}),rc={provide:di,useExisting:Kt(()=>kt),multi:!0},on=class{source;checked},Wr=Xr(),kt=(()=>{class a{_elementRef=f(xe);_changeDetectorRef=f(Ce);_ngZone=f(It);_animationMode=f(Lt,{optional:!0});_options=f(nc,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let t=new on;return t.source=this,t.checked=e,t}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new O;indeterminateChange=new O;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Se.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){f(ut).load(zt);let e=f(new Hi("tabindex"),{optional:!0});this._options=this._options||Wr,this.color=this._options.color||Wr.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=f(ht).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let t=e!=this._indeterminate;this._indeterminate=e,t&&(this._indeterminate?this._transitionCheckState(Se.Indeterminate):this._transitionCheckState(this.checked?Se.Checked:Se.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let t=this._currentCheckState,i=this._getAnimationTargetElement();if(!(t===e||!i)&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);let n=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(n)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Se.Checked:Se.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,t){if(this._animationMode==="NoopAnimations")return"";switch(e){case Se.Init:if(t===Se.Checked)return this._animationClasses.uncheckedToChecked;if(t==Se.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Se.Unchecked:return t===Se.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Se.Checked:return t===Se.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Se.Indeterminate:return t===Se.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-checkbox"]],viewQuery:function(t,i){if(t&1&&(ve(tc,5),ve(ic,5)),t&2){let n;Z(n=J())&&(i._inputElement=n.first),Z(n=J())&&(i._labelElement=n.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(t,i){t&2&&(Xt("id",i.id),U("tabindex",null)("aria-label",null)("aria-labelledby",null),xi(i.color?"mat-"+i.color:"mat-accent"),F("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked)("mat-mdc-checkbox-disabled-interactive",i.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",se],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",se],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",se],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:In(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",se],checked:[2,"checked","checked",se],disabled:[2,"disabled","disabled",se],indeterminate:[2,"indeterminate","indeterminate",se]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[At([rc,{provide:ia,useExisting:a,multi:!0}]),Mt,Te],ngContentSelectors:ac,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(t,i){if(t&1){let n=M();ft(),s(0,"div",3),b("click",function(A){return v(n),C(i._preventBubblingFromLabel(A))}),s(1,"div",4,0)(3,"div",5),b("click",function(){return v(n),C(i._onTouchTargetClick())}),l(),s(4,"input",6,1),b("blur",function(){return v(n),C(i._onBlur())})("click",function(){return v(n),C(i._onInputClick())})("change",function(A){return v(n),C(i._onInteractionEvent(A))}),l(),w(6,"div",7),s(7,"div",8),dt(),s(8,"svg",9),w(9,"path",10),l(),Wt(),w(10,"div",11),l(),w(11,"div",12),l(),s(12,"label",13,2),Fe(14),l()()}if(t&2){let n=q(2);u("labelPosition",i.labelPosition),r(4),F("mdc-checkbox--selected",i.checked),u("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled&&!i.disabledInteractive)("id",i.inputId)("required",i.required)("tabIndex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex),U("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-checked",i.indeterminate?"mixed":null)("aria-controls",i.ariaControls)("aria-disabled",i.disabled&&i.disabledInteractive?!0:null)("aria-expanded",i.ariaExpanded)("aria-owns",i.ariaOwns)("name",i.name)("value",i.value),r(7),u("matRippleTrigger",n)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),r(),u("for",i.inputId)}},dependencies:[Jn,ir],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return a})();var wt=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=Ve({type:a});static \u0275inj=Ee({imports:[kt,Me,Me]})}return a})();var Aa=class{filter=new be;version;currency;varianceItem=new sn;budgetYears=[];versions=[];categories=[];currencies=[];varianceItems=[]},sn=class{category="";budget=0;actual=0;variance=0;selected};var Zr=(()=>{class a extends vt{router;httpService;constructor(e,t){super(new Aa),this.router=e,this.httpService=t}loadVariancePage(e){let t=new be;t.budgetId=e;let i=this.getItemValue(),n=G(V({},i),{filter:t});return this.setItem(n),this.getVarianceItems()}getVarianceItems(){let e=this.getItemValue().filter;return this.httpService.postItemVar(e,"varianceItem/get").pipe(S(t=>{t&&(this.setItem(t),this.setItems(t.varianceItems))}))}setFilterItem(e,t){let i=this.getItemValue();switch(t){case"budgetYearId":i.filter.budgetYearId=+e,i.filter.versionId=-1,i.filter.currencyCode="",i.filter.month=-1;break;case"version":i.filter.versionId=+e,i.filter.currencyCode="",i.filter.month=-1;break;case"currencyCode":i.filter.currencyCode=e,i.filter.month=-1;break;case"month":i.filter.month=e;break;case"day":i.filter.travelDay=e;break}let n=V({},i);this.setItem(n),be.setFilter(i.filter)}getFilterList(){let e=this.getItemValue(),t=e.filter.list;if(t.length===0){t=e.categories.map(n=>({id:n.id,name:n.categoryName,selected:!0}));let i=G(V({},e),{filter:G(V({},e.filter),{list:t})});this.setItem(i)}return t}sortData(e){let t=e?e.direction==="desc":!0,i=e?e.active:"category",n=this.getItemValues().sort((d,A)=>{switch(i){case"category":case"budget":case"actual":case"variance":return Si(d[i],A[i],t);default:return 0}});this.setItems(n)}gotoDetails(e,t){let i=new be,n=this.getItemValue();i.budgetYearId=n.filter.budgetYearId;let d=n.categories.find(A=>A.categoryName===e.category);i.categoryId=d?d.id:-1,i.currencyCode=n.filter.currencyCode,be.setFilter(i),t==="budget"?this.router.navigate(["/feature/budget-item"]):this.router.navigate(["/feature/actual-item"])}static \u0275fac=function(t){return new(t||a)(P(Fn),P(ye))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ea=class{isOpen=!1;confirmed=!1;list=[];pos={x:0,y:0};selectAll=!0};var Ta=(()=>{class a extends lr{constructor(){super(new Ea)}confirm(){let e=this.getItemValue(),t=G(V({},e),{isOpen:!1,confirmed:!0});this.setItem(t)}show(e,t){let i=this.getItemValue(),n=G(V({},i),{isOpen:!0,confirmed:!1,pos:t,list:e});this.setItem(n)}hide(){let e=this.getItemValue(),t=G(V({},e),{isOpen:!1,confirmed:!1});this.setItem(t)}select(e){let t=this.getItemValue();t.list.forEach(n=>{n.selected=e});let i=V({},t);this.setItem(i)}static \u0275fac=function(t){return new(t||a)};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var ln=(a,o)=>o.id,sc=(a,o)=>o.code,lc=()=>["sum-category","sum-budget","sum-actual","sum-variance"];function cc(a,o){if(a&1&&(s(0,"mat-option",4),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.year," ")}}function dc(a,o){if(a&1&&(s(0,"mat-option",4),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.versionName," ")}}function mc(a,o){if(a&1&&(s(0,"mat-option",4),c(1),l()),a&2){let e=o.$implicit;u("value",e.code),r(),x(" ",e.code," ")}}function pc(a,o){if(a&1&&(s(0,"mat-option",4),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.name," ")}}function uc(a,o){if(a&1){let e=M();s(0,"th",23),c(1),m(2,"translate"),s(3,"mat-icon",24),b("click",function(i){v(e);let n=p(3);return C(n.OnOpenFilterList(i))}),c(4,"filter_alt"),l()()}a&2&&(r(),x(" ",h(2,1,"page.label.category")," "))}function hc(a,o){if(a&1&&(s(0,"td",25)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.category)}}function _c(a,o){a&1&&(s(0,"th",23),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"ctrl.input.budget")))}function gc(a,o){if(a&1){let e=M();s(0,"td",26),b("dblclick",function(){let i=v(e).$implicit,n=p(3);return C(n.onDblClickItem(i,"budget"))}),s(1,"mat-label"),c(2),m(3,"number"),l()()}if(a&2){let e=o.$implicit;r(2),_(oe(3,1,e.budget,"1.0-0"))}}function fc(a,o){a&1&&(s(0,"th",23),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.actual")))}function bc(a,o){if(a&1){let e=M();s(0,"td",26),b("dblclick",function(){let i=v(e).$implicit,n=p(3);return C(n.onDblClickItem(i,"actual"))}),s(1,"mat-label"),c(2),m(3,"number"),l()()}if(a&2){let e=o.$implicit;r(2),_(oe(3,1,e.actual,"1.0-0"))}}function vc(a,o){a&1&&(s(0,"th",23),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.variance")))}function Cc(a,o){if(a&1&&(s(0,"td",25)(1,"mat-label"),c(2),m(3,"number"),l()()),a&2){let e=o.$implicit;r(),F("negative-number",e.variance<0),r(),x(" ",oe(3,3,e.variance,"1.0-0")," ")}}function yc(a,o){a&1&&(s(0,"td",27),w(1,"mat-label"),l())}function xc(a,o){if(a&1&&(s(0,"td",27)(1,"mat-label"),c(2),m(3,"number"),l()()),a&2){let e=p(2);r(2),_(oe(3,1,e.varianceItem.budget,"1.0-0"))}}function kc(a,o){if(a&1&&(s(0,"td",27)(1,"mat-label"),c(2),m(3,"number"),l()()),a&2){let e=p(2);r(2),_(oe(3,1,e.varianceItem.actual,"1.0-0"))}}function wc(a,o){if(a&1&&(s(0,"td",27)(1,"mat-label"),c(2),m(3,"number"),l()()),a&2){let e=p(2);r(),F("negative-number",e.varianceItem.variance<0),r(),x(" ",oe(3,3,e.varianceItem.variance,"1.0-0")," ")}}function Dc(a,o){a&1&&w(0,"tr",28)}function Sc(a,o){if(a&1){let e=M();s(0,"tr",29),b("click",function(){let i=v(e).$implicit,n=p(3);return C(n.onSelectItem(i))}),l()}if(a&2){let e=o.$implicit;F("selected",e.selected)}}function Ic(a,o){a&1&&w(0,"tr",30)}function Mc(a,o){if(a&1){let e=M();s(0,"div")(1,"mat-form-field",1)(2,"mat-label",2),m(3,"translate"),c(4),m(5,"translate"),l(),s(6,"mat-select",3),b("selectionChange",function(i){v(e);let n=p(2);return C(n.onChangeFilter(i,"budgetYearId"))}),z(7,cc,2,2,"mat-option",4,ln),l()(),s(9,"mat-form-field",1)(10,"mat-label",2),m(11,"translate"),c(12),m(13,"translate"),l(),s(14,"mat-select",3),b("selectionChange",function(i){v(e);let n=p(2);return C(n.onChangeFilter(i,"version"))}),z(15,dc,2,2,"mat-option",4,ln),l()(),s(17,"mat-form-field",1)(18,"mat-label",2),m(19,"translate"),c(20),m(21,"translate"),l(),s(22,"mat-select",3),b("selectionChange",function(i){v(e);let n=p(2);return C(n.onChangeFilter(i,"currencyCode"))}),z(23,mc,2,2,"mat-option",4,sc),l()(),s(25,"mat-form-field",1)(26,"mat-label",2),m(27,"translate"),c(28),m(29,"translate"),l(),s(30,"mat-select",3),b("selectionChange",function(i){v(e);let n=p(2);return C(n.onChangeFilter(i,"month"))}),z(31,pc,2,2,"mat-option",4,ln),l()(),s(33,"mat-checkbox",5),b("change",function(i){v(e);let n=p(2);return C(n.onChangeTravelDay(i,"day"))}),c(34),m(35,"translate"),l()(),s(36,"div",6)(37,"table",7),b("matSortChange",function(i){v(e);let n=p(2);return C(n.onSortData(i))}),B(38,8),g(39,uc,5,3,"th",9)(40,hc,3,1,"td",10),R(),B(41,11),g(42,_c,3,3,"th",9)(43,gc,4,4,"td",12),R(),B(44,13),g(45,fc,3,3,"th",9)(46,bc,4,4,"td",12),R(),B(47,14),g(48,vc,3,3,"th",9)(49,Cc,4,6,"td",10),R(),B(50,15),g(51,yc,2,0,"td",16),R(),B(52,17),g(53,xc,4,4,"td",16),R(),B(54,18),g(55,kc,4,4,"td",16),R(),B(56,19),g(57,wc,4,6,"td",16),R(),g(58,Dc,1,0,"tr",20)(59,Sc,1,2,"tr",21)(60,Ic,1,0,"tr",22),l()()}if(a&2){let e=p(),t=p();r(2),u("title",h(3,21,"ctrl.select.year")),r(2),_(h(5,23,"ctrl.select.year")),r(2),u("value",e.filter.budgetYearId),r(),j(e.budgetYears),r(3),u("title",h(11,25,"ctrl.select.version")),r(2),_(h(13,27,"ctrl.select.version")),r(2),u("value",e.filter.versionId),r(),j(e.versions),r(3),u("title",h(19,29,"ctrl.select.currency")),r(2),_(h(21,31,"ctrl.select.currency")),r(2),u("value",e.filter.currencyCode),r(),j(e.currencies),r(3),u("title",h(27,33,"ctrl.select.month")),r(2),_(h(29,35,"ctrl.select.month")),r(2),u("value",e.filter.month),r(),j(t.months),r(2),u("checked",e.filter.travelDay),r(),pt(" ",h(35,37,"ctrl.checkbox.travel_day")," ",e.filter.travelDay&&e.filter.travelDayCount!==1?e.filter.travelDayCount:""," "),r(3),u("dataSource",t.varianceItems()),r(21),u("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),r(),u("matRowDefColumns",t.displayedColumns),r(),u("matFooterRowDef",Gi(39,lc))("matFooterRowDefSticky",!0)}}function Ac(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.empty.budget")))}function Ec(a,o){if(a&1&&g(0,Ac,3,3,"div"),a&2){let e=p(2);y(e.pageLoaded()?0:-1)}}function Tc(a,o){a&1&&g(0,Mc,61,40)(1,Ec,1,1),a&2&&y(o.budgetYears.length!==0?0:1)}var eo=(()=>{class a{budgetVarianceService;budgetStateService;filterListService;translate;budgetVariance;varianceItems;sub$=new W;budgetState=new ke;pageLoaded=ii(!1);displayedColumns=["category","budget","actual","variance"];months=dr;clickTimeout;delayClick=250;preventClick=!1;constructor(e,t,i,n){this.budgetVarianceService=e,this.budgetStateService=t,this.filterListService=i,this.translate=n,this.budgetVariance=this.budgetVarianceService.getItem(),this.varianceItems=this.budgetVarianceService.getItems()}ngOnInit(){this.months.map((e,t)=>{I(this.translate.get(`months.month_${t}`),this.sub$).subscribe(i=>{e.name=i})}),I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>this.budgetState=e),ae(e=>I(this.budgetVarianceService.loadVariancePage(e.budgetId),this.sub$))).subscribe(()=>this.pageLoaded.set(!0)),I(this.filterListService.getItem(),this.sub$).subscribe(e=>{if(e&&e.confirmed){let t=this.budgetVarianceService.getItemValue(),i=G(V({},t),{filter:G(V({},t.filter),{list:e.list})});this.budgetVarianceService.setItem(i),this.getFilteredItems()}})}ngOnDestroy(){this.sub$.next(),this.sub$.complete()}onSelectItem(e){this.clickTimeout=setTimeout(()=>{this.preventClick||this.budgetVarianceService.selectItem(e),this.preventClick=!1},this.delayClick)}onChangeFilter(e,t){this.budgetVarianceService.setFilterItem(e.value,t),this.getFilteredItems()}onChangeTravelDay(e,t){this.budgetVarianceService.setFilterItem(e.checked,t),this.getFilteredItems()}onSortData(e){this.budgetVarianceService.sortData(e)}onDblClickItem(e,t){clearTimeout(this.clickTimeout),this.preventClick=!0,this.budgetVarianceService.gotoDetails(e,t)}OnOpenFilterList(e){e.stopPropagation();let t={x:e.clientX,y:e.clientY},i=this.budgetVarianceService.getFilterList();this.filterListService.show(i,t)}getFilteredItems(){I(this.budgetVarianceService.getVarianceItems(),this.sub$).subscribe()}static \u0275fac=function(t){return new(t||a)(k(Zr),k(ie),k(Ta),k($))};static \u0275cmp=E({type:a,selectors:[["app-budget-variance"]],decls:6,vars:5,consts:[[1,"title"],[2,"max-width","140px"],[3,"title"],[3,"selectionChange","value"],[3,"value"],[3,"change","checked"],[1,"max-table-height"],["mat-table","","matSort","","matSortDisableClear","",1,"tbl",3,"matSortChange","dataSource"],["matColumnDef","category"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","budget"],["mat-cell","",3,"dblclick",4,"matCellDef"],["matColumnDef","actual"],["matColumnDef","variance"],["matColumnDef","sum-category"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","sum-budget"],["matColumnDef","sum-actual"],["matColumnDef","sum-variance"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-header-cell","","mat-sort-header",""],[3,"click"],["mat-cell",""],["mat-cell","",3,"dblclick"],["mat-footer-cell",""],["mat-header-row",""],["mat-row","",3,"click"],["mat-footer-row",""]],template:function(t,i){if(t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",0),c(4),l()(),g(5,Tc,2,1)),t&2){let n;r(),x(" ",h(2,3,"page.title.budget_vs_actual")," "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y((n=i.pageLoaded()&&i.budgetVariance())?5:-1,n)}},dependencies:[K,Re,te,ee,ri,Ge,Oe,Ne,ze,Pe,Le,je,oa,la,Ye,He,sa,$e,qe,ca,at,it,tt,wt,kt,Ca,Fi,va,X],styles:["table.tbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+2){text-align:right}table.tbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+2){direction:rtl;justify-content:flex-end}"],changeDetection:0})}return a})();var Dt=class{copy=!1;budgetYear;version;currencies=[];versions=[];budgetYears=[]};var to=a=>o=>a.yearExist(o.value)?{duplicate:!0}:null;var Fa=(()=>{class a extends vt{currencyTableService;httpService;constructor(e,t){super(new Dt),this.currencyTableService=e,this.httpService=t}getBudgetYear(e){return this.httpService.getItemById(e,"budgetYear").pipe(S(t=>{t&&(this.setItem(t),this.currencyTableService.items=t.currencies)}))}addBudgetYear(e){return this.httpService.postItemVar(e,"budgetYear").pipe(S(t=>{let i=this.getItemValue(),n=G(V({},i),{copy:!0,budgetYears:[...i.budgetYears,t]});this.setItem(n),this.currencyTableService.items=e.currencies}))}deleteBudgetYear(e){return this.httpService.deleteItemVar(e,"budgetYear").pipe(S(()=>this.removeBudgetYear(e.id)))}yearExist(e){return!e||!nr(e)?!1:this.getItemValue().budgetYears.findIndex(t=>t.year===+e)!==-1}getSelectedBudgetYear(e){let t={id:-1,budgetId:-1,year:-1};if(!e)return t;let i=this.getItemValue().budgetYears.findIndex(n=>n.id===e);return i!==-1?this.getItemValue().budgetYears[i]:t}changeCopyBudget(e){let t=G(V({},this.getItemValue()),{copy:e});this.setItem(t)}removeBudgetYear(e){let t=this.getItemValue(),i=G(V({},t),{budgetYears:t.budgetYears.filter(n=>n.id!==e)});this.setItem(i)}static \u0275fac=function(t){return new(t||a)(P(Ct),P(ye))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Vc(a,o){if(a&1&&(s(0,"mat-error"),c(1),m(2,"translate"),l()),a&2){let e=p(3);r(),_(e.getErrorMessage(e.year,h(2,1,"global.year")))}}function Fc(a,o){if(a&1){let e=M();s(0,"div",6)(1,"mat-checkbox",10),b("change",function(i){v(e);let n=p(3);return C(n.onChangeCopyBudget(i))}),c(2),m(3,"translate"),l()()}a&2&&(r(2),x(" ",h(3,1,"ctrl.checkbox.copy_budget")," "))}function Bc(a,o){if(a&1){let e=M();s(0,"form",3,0),b("ngSubmit",function(){v(e);let i=q(1),n=p(2);return C(n.onCreateBudgetYear(i))}),s(2,"div",4)(3,"mat-form-field")(4,"mat-label"),c(5),m(6,"translate"),l(),w(7,"input",5),g(8,Vc,3,3,"mat-error"),l()(),g(9,Fc,4,3,"div",6),s(10,"div",7),w(11,"app-currency-form",8),l(),s(12,"div",6)(13,"button",9),c(14),m(15,"translate"),l()()()}if(a&2){let e=o,t=p(2);u("formGroup",t.form),r(5),_(h(6,10,"ctrl.input.budget_year")),r(2),u("errorStateMatcher",t.matcher),r(),y(t.year!=null&&t.year.invalid?8:-1),r(),y(e.budgetYears.length>0?9:-1),r(),u("hidden",e.copy),r(),u("currencies",t.currencies)("deletable",!e.copy),r(2),u("disabled",t.currencies().length===0&&!e.copy||!(t.year!=null&&t.year.valid)),r(),x(" ",h(15,12,"ctrl.button.create_budget_year")," ")}}function Rc(a,o){if(a&1&&g(0,Bc,16,14,"form",2),a&2){let e,t=p();y((e=t.budgetYear())?0:-1,e)}}function Oc(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),s(3,"a",11),c(4),m(5,"translate"),l(),c(6,`.
`),l()),a&2&&(r(),x(" ",h(2,2,"page.empty.budget_year")," "),r(3),_(h(5,4,"page.link.create_budget")))}function Lc(a,o){if(a&1&&g(0,Oc,7,6,"div"),a&2){let e=p();y(e.pageLoaded()?0:-1)}}var no=(()=>{class a extends ge{budgetYearService;currencyTableService;budgetStateService;messageBoxService;translate;form;budgetYear;currencies;get year(){return this.form.get("year")}constructor(e,t,i,n,d){super(),this.budgetYearService=e,this.currencyTableService=t,this.budgetStateService=i,this.messageBoxService=n,this.translate=d,this.form=new me({year:new T(null,[L.required,L.minLength(4),L.maxLength(4),to(this.budgetYearService)]),currencyForm:new T,copy:new T(!0,{nonNullable:!0})}),this.budgetYear=this.budgetYearService.getItem(),this.currencies=this.currencyTableService.items}ngOnInit(){I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>this.budgetState=e),ae(e=>I(this.budgetYearService.getBudgetYear(e.budgetId),this.sub$))).subscribe(e=>{this.year?.setValue(null),this.form.get("copy")?.setValue(e.copy),this.pageLoaded.set(!0)})}onChangeCopyBudget(e){this.budgetYearService.changeCopyBudget(e.checked)}onCreateBudgetYear(e){let t=this.form.getRawValue();if(t.year){let i=this.createBudgetYear(+t.year,t.copy);I(this.budgetYearService.addBudgetYear(i),this.sub$).subscribe(()=>{e.resetForm(),this.form.reset(),this.messageBoxService.show(new cr(this.translate.instant("dialog.title.budget_year_created"),this.translate.instant("dialog.message.budget_year_created"),"success"))})}}createBudgetYear(e,t){let i=new Dt,n={id:-1,budgetId:ke.getSelectedBudgetId(),year:e};return i.budgetYear=n,i.copy=t,i.currencies=this.currencyTableService.items(),i}static \u0275fac=function(t){return new(t||a)(k(Fa),k(Ct),k(ie),k(_e),k($))};static \u0275cmp=E({type:a,selectors:[["app-create-budget-year"]],features:[N],decls:7,vars:5,consts:[["formDirective","ngForm"],[1,"title"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"head-section","form-field-error"],["matInput","","type","text","formControlName","year","required","",3,"errorStateMatcher"],[1,"row-xl"],[3,"hidden"],["formControlName","currencyForm",3,"currencies","deletable"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["formControlName","copy",3,"change"],["href","/feature/create-budget"]],template:function(t,i){t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",1),c(4),l()(),g(5,Rc,1,1)(6,Lc,1,1)),t&2&&(r(),x(" ",h(2,3,"page.title.create_budget_year")," "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y(i.pageLoaded()&&i.budgetState.hasBudget?5:6))},dependencies:[K,Q,De,te,ee,le,mi,he,pe,we,ce,de,Be,re,ue,wt,kt,X],encapsulation:2,changeDetection:0})}return a})();var Nc=(a,o)=>o.id;function Pc(a,o){if(a&1&&(s(0,"mat-option",5),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.year," ")}}function Yc(a,o){if(a&1&&(s(0,"mat-error"),c(1),m(2,"translate"),l()),a&2){let e=p(3);r(),_(e.getErrorMessage(e.budgetYearId,h(2,1,"global.year")))}}function Hc(a,o){if(a&1){let e=M();s(0,"form",2),b("ngSubmit",function(i){v(e);let n=p(2);return C(n.onDeleteBudgetYear(i))}),s(1,"div",3)(2,"div")(3,"mat-form-field")(4,"mat-label"),c(5),m(6,"translate"),l(),s(7,"mat-select",4),z(8,Pc,2,2,"mat-option",5,Nc),l(),g(10,Yc,3,3,"mat-error"),l()(),s(11,"div")(12,"button",6),c(13),m(14,"translate"),l()()()()}if(a&2){let e=p(),t=p();u("formGroup",t.form),r(5),_(h(6,6,"ctrl.select.year")),r(2),u("errorStateMatcher",t.matcher),r(),j(e),r(2),y(t.budgetYearId!=null&&t.budgetYearId.invalid?10:-1),r(2),u("disabled",e.length===0||!t.form.valid||(t.budgetYearId==null?null:t.budgetYearId.value)===-1),r(),x(" ",h(14,8,"ctrl.button.delete.budget_year")," ")}}function zc(a,o){a&1&&g(0,Hc,15,10,"form",1),a&2&&y(o.length!==0?0:-1)}function jc(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.empty.remove_year")))}function $c(a,o){if(a&1&&g(0,jc,3,3,"div"),a&2){let e=p();y(e.pageLoaded()?0:-1)}}var ro=(()=>{class a extends ge{budgetYearService;budgetStateService;dialogService;messageBoxService;translate;form;budgetYear;get budgetYearId(){return this.form.get("budgetYearId")}constructor(e,t,i,n,d){super(),this.budgetYearService=e,this.budgetStateService=t,this.dialogService=i,this.messageBoxService=n,this.translate=d,this.form=new me({budgetYearId:new T(-1,{validators:[L.required],nonNullable:!0})}),this.budgetYear=this.budgetYearService.getItem()}ngOnInit(){I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>this.budgetState=e),ae(e=>I(this.budgetYearService.getBudgetYear(e.budgetId),this.sub$))).subscribe(()=>this.pageLoaded.set(!0))}onDeleteBudgetYear(e){e.stopPropagation();let t=this.form.getRawValue(),i=this.budgetYearService.getSelectedBudgetYear(t.budgetYearId),n={title:`${this.translate.instant("ctrl.button.delete.budget_year")}?`,message:this.translate.instant("dialog.message.delete_year",{year:i.year,name:this.budgetState.budgetName})};this.dialogService.open(n),I(this.dialogService.confirmed(),this.sub$).subscribe(d=>{d&&I(this.budgetYearService.deleteBudgetYear(i),this.sub$).subscribe(()=>{this.form.reset(),this.messageBoxService.show()})})}static \u0275fac=function(t){return new(t||a)(k(Fa),k(ie),k(Ue),k(_e),k($))};static \u0275cmp=E({type:a,selectors:[["app-delete-budget-year"]],features:[N],decls:7,vars:5,consts:[[1,"title"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"head-section"],["formControlName","budgetYearId","required","",3,"errorStateMatcher"],[3,"value"],["mat-flat-button","","color","warn","type","submit",3,"disabled"]],template:function(t,i){if(t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",0),c(4),l()(),g(5,zc,1,1)(6,$c,1,1)),t&2){let n;r(),x(" ",h(2,3,"page.title.delete_budget_year")," "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y((n=i.pageLoaded()&&i.budgetYear().budgetYears)?5:6,n)}},dependencies:[K,Q,te,ee,le,he,pe,ce,de,Be,re,ue,at,it,tt,X],encapsulation:2,changeDetection:0})}return a})();var oo=(a,o,e)=>t=>{let i=t.get(o),n=t.get(e);return i&&n&&a.duplicate(i.value,n.value)?(i.setErrors({duplicate:!0}),{duplicate:!0}):null};var so=(()=>{class a extends $t{budgetStateService;httpService;translate;constructor(e,t,i){super(),this.budgetStateService=e,this.httpService=t,this.translate=i}getBudgets(){return this.httpService.getAllItems("budget").pipe(S(e=>{this.items=e}))}modifyBudget(e,t){switch(t){case D.Add:return this.httpService.postItem(e,"budget").pipe(S(i=>this.addItem(i)));case D.Edit:return this.httpService.putItem(e,"budget").pipe(S(i=>this.editItem(i,"id")))}throw new Ze({error:`${t}: ${this.translate.instant("error.unknown_event")}`})}duplicate(e,t){return!e||!t?!1:this.getItems(t===D.Edit).findIndex(n=>n.budgetName.toLowerCase()===e.toLowerCase())!==-1}updateBudgetState(){let e=ke.getLocalStorage();e.budgets=this.items(),e.hasBudget=!0,this.budgetStateService.setBudgetSate(e)}static \u0275fac=function(t){return new(t||a)(P(ie),P(ye),P($))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Gc(a,o){if(a&1&&(s(0,"mat-error"),c(1),m(2,"translate"),l()),a&2){let e=p();r(),_(e.getErrorMessage(e.budgetName,h(2,1,"ctrl.input.budget")))}}function Uc(a,o){if(a&1){let e=M();s(0,"div")(1,"button",12),c(2),m(3,"translate"),l(),s(4,"mat-radio-group",13),b("change",function(){v(e);let i=p();return C(i.onChangeAction())}),s(5,"mat-radio-button",14),c(6),m(7,"translate"),l(),s(8,"mat-radio-button",15),c(9),m(10,"translate"),l()()()}if(a&2){let e=p();r(),u("disabled",!e.form.valid),r(),x(" ",h(3,5,"global.save")," "),r(4),_(h(7,7,"ctrl.radio.add_budget")),r(2),u("disabled",(e.action==null?null:e.action.value)==="add"),r(),x(" ",h(10,9,"ctrl.radio.edit_budget")," ")}}function Qc(a,o){a&1&&(s(0,"th",16),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"ctrl.input.budget_name")))}function Kc(a,o){if(a&1&&(s(0,"td",17)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.budgetName)}}function Wc(a,o){a&1&&w(0,"tr",18)}function Xc(a,o){if(a&1){let e=M();s(0,"tr",19),b("click",function(){let i=v(e).$implicit,n=p();return C(n.onSelectBudget(i))}),l()}if(a&2){let e=o.$implicit;F("selected",e.selected)}}var lo=(()=>{class a extends ge{budgetService;messageBoxService;form;budgets;displayedColumns=["budgetName"];get action(){return this.form.get("action")}get budgetName(){return this.form.get("budgetName")}constructor(e,t){super(),this.budgetService=e,this.messageBoxService=t,this.form=new me({action:new T(D.Add.toString(),{nonNullable:!0}),id:new T(-1,{nonNullable:!0}),budgetName:new T("",[L.required,L.max(45)])},{validators:[oo(e,"budgetName","action")]}),this.budgets=this.budgetService.items}ngOnInit(){I(this.budgetService.getBudgets(),this.sub$).subscribe()}onChangeAction(){this.action?.value===D.Add&&(this.budgetService.clearSelection(),this.resetForm())}onSelectBudget(e){this.budgetService.getItem(e),this.form.patchValue({action:D.Edit,id:e.id,budgetName:e.budgetName})}onSaveBudget(e){let t=this.form.getRawValue();if(t.budgetName){let i={id:t.id,budgetName:t.budgetName,selected:!1};this.modifyItem(i,t.action,e)}}modifyItem(e,t,i){I(this.budgetService.modifyBudget(e,t),this.sub$).subscribe(()=>{i&&i.reset(),this.resetForm(),this.budgetService.updateBudgetState(),this.messageBoxService.show()})}resetForm(){this.form.reset(),this.form.patchValue({action:D.Add})}static \u0275fac=function(t){return new(t||a)(k(so),k(_e))};static \u0275cmp=E({type:a,selectors:[["app-create-budget"]],features:[N],decls:22,vars:17,consts:[["formDirective","ngForm"],["itemRef",""],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"head-section","form-field-error"],["matInput","","formControlName","budgetName","type","text",3,"placeholder","errorStateMatcher"],[1,"row-xl","max-table-height"],["mat-table","",1,"tbl",3,"dataSource"],["matColumnDef","budgetName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-flat-button","","type","submit","data-testid","submit",3,"disabled"],["formControlName","action",1,"v-radio-group",3,"change"],["value","add"],["value","edit",3,"disabled"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,i){if(t&1){let n=M();s(0,"h2"),c(1),m(2,"translate"),l(),s(3,"form",2,0),b("ngSubmit",function(){v(n);let A=q(4);return C(i.onSaveBudget(A))}),s(5,"div",3)(6,"mat-form-field")(7,"mat-label"),c(8),m(9,"translate"),l(),w(10,"input",4,1),m(12,"translate"),g(13,Gc,3,3,"mat-error"),l()(),g(14,Uc,11,11,"div"),l(),s(15,"div",5)(16,"table",6),B(17,7),g(18,Qc,3,3,"th",8)(19,Kc,3,1,"td",9),R(),g(20,Wc,1,0,"tr",10)(21,Xc,1,2,"tr",11),l()()}t&2&&(r(),_(h(2,11,"page.title.create_budget")),r(2),u("formGroup",i.form),r(5),_(h(9,13,"ctrl.input.budget")),r(2),Ie("placeholder",h(12,15,"ctrl.input.budget_name")),u("errorStateMatcher",i.matcher),r(3),y(i.budgetName!=null&&i.budgetName.invalid?13:-1),r(),y(i.form?14:-1),r(2),u("dataSource",i.budgets()),r(4),u("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),r(),u("matRowDefColumns",i.displayedColumns))},dependencies:[K,Q,De,te,ee,le,he,pe,we,ce,de,re,ue,Ge,Oe,Ne,ze,Pe,Le,je,Ye,He,$e,qe,st,rt,ot,wt,X],encapsulation:2,changeDetection:0})}return a})();var co=(a,o,e)=>t=>{let i=t.get(o),n=t.get(e);return i&&n&&a.duplicate(i.value,n.value)?(i.setErrors({duplicate:!0}),{duplicate:!0}):null};var mo=(()=>{class a extends $t{httpService;translate;constructor(e,t){super(),this.httpService=e,this.translate=t}getCategories(e){return this.httpService.getItemsById(e,"category").pipe(S(t=>{this.items=t}))}modifyCategory(e,t){switch(t){case D.Add:return this.httpService.postItem(e,"category").pipe(S(i=>this.addItem(i)));case D.Edit:return this.httpService.putItem(e,"category").pipe(S(i=>this.editItem(i,"id")));case D.Delete:return this.httpService.deleteItem(e,"category").pipe(S(i=>this.deleteItem(i,"id")))}throw new Ze({error:`${t}: ${this.translate.instant("error.unknown_event")}`})}duplicate(e,t){return!e||!t?!1:this.getItems(t===D.Edit).findIndex(n=>n.categoryName.toLowerCase()===e.toLowerCase())!==-1}static \u0275fac=function(t){return new(t||a)(P(ye),P($))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Jc(a,o){if(a&1&&(s(0,"mat-error",6),c(1),m(2,"translate"),l()),a&2){let e=p(2);r(),x(" ",e.getErrorMessage(e.categoryName,h(2,1,"page.label.category"))," ")}}function ed(a,o){if(a&1){let e=M();s(0,"div")(1,"button",15),c(2),m(3,"translate"),l(),s(4,"mat-radio-group",16),b("change",function(){v(e);let i=p(2);return C(i.onChangeAction())}),s(5,"mat-radio-button",17),c(6),m(7,"translate"),l(),s(8,"mat-radio-button",18),c(9),m(10,"translate"),l()()()}if(a&2){let e=p(2);r(),u("disabled",!e.form.valid),r(),x(" ",h(3,5,"global.save")," "),r(4),_(h(7,7,"global.add")),r(2),u("disabled",(e.action==null?null:e.action.value)==="add"),r(),x(" ",h(10,9,"global.edit")," ")}}function td(a,o){a&1&&(s(0,"th",19),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.category")))}function id(a,o){if(a&1&&(s(0,"td",20)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.categoryName)}}function ad(a,o){a&1&&w(0,"th",19)}function nd(a,o){if(a&1){let e=M();s(0,"td",20)(1,"button",21),m(2,"translate"),b("click",function(i){let n=v(e).$implicit,d=p(2);return C(d.onDeleteCategory(i,n))}),s(3,"mat-icon"),c(4,"delete_forever"),l()()()}a&2&&(r(),Ie("title",h(2,1,"ctrl.button.delete.category")))}function rd(a,o){a&1&&w(0,"tr",22)}function od(a,o){if(a&1){let e=M();s(0,"tr",23),b("click",function(){let i=v(e).$implicit,n=p(2);return C(n.onSelectCategory(i))}),l()}if(a&2){let e=o.$implicit;F("selected",e.selected)}}function sd(a,o){if(a&1){let e=M();s(0,"form",3,0),b("ngSubmit",function(){v(e);let i=q(1),n=p();return C(n.onSaveCategory(i))}),s(2,"div",4)(3,"mat-form-field")(4,"mat-label"),c(5),m(6,"translate"),l(),w(7,"input",5,1),m(9,"translate"),g(10,Jc,3,3,"mat-error",6),l()(),g(11,ed,11,11,"div"),l(),s(12,"div",7)(13,"table",8),B(14,9),g(15,td,3,3,"th",10)(16,id,3,1,"td",11),R(),B(17,12),g(18,ad,1,0,"th",10)(19,nd,5,3,"td",11),R(),g(20,rd,1,0,"tr",13)(21,od,1,2,"tr",14),l()()}if(a&2){let e=p();u("formGroup",e.form),r(5),_(h(6,10,"page.label.category")),r(2),Ie("placeholder",h(9,12,"page.label.category")),u("errorStateMatcher",e.matcher),r(3),y(e.categoryName!=null&&e.categoryName.invalid?10:-1),r(),y(e.form?11:-1),r(2),u("dataSource",e.categories()),r(7),u("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),r(),u("matRowDefColumns",e.displayedColumns)}}function ld(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),s(3,"a",24),c(4),m(5,"translate"),l(),c(6,`.
`),l()),a&2&&(r(),x(" ",h(2,2,"page.empty.budget_category")," "),r(3),_(h(5,4,"page.link.create_budget")))}function cd(a,o){if(a&1&&g(0,ld,7,6,"div"),a&2){let e=p();y(e.pageLoaded()?0:-1)}}var po=(()=>{class a extends ge{categoryService;budgetStateService;dialogService;messageBoxService;translate;form;categories;displayedColumns=["name","delete"];get action(){return this.form.get("action")}get categoryName(){return this.form.get("categoryName")}constructor(e,t,i,n,d){super(),this.categoryService=e,this.budgetStateService=t,this.dialogService=i,this.messageBoxService=n,this.translate=d,this.form=new me({action:new T(D.Add.toString(),{nonNullable:!0}),id:new T(-1,{nonNullable:!0}),categoryName:new T("",[L.required,L.max(50)])},{validators:[co(e,"categoryName","action")]}),this.categories=this.categoryService.items}ngOnInit(){I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>this.budgetState=e),ae(e=>I(this.categoryService.getCategories(e.budgetId),this.sub$))).subscribe(()=>this.pageLoaded.set(!0))}onChangeAction(){this.action?.value===D.Add&&(this.categoryService.clearSelection(),this.resetForm())}onSelectCategory(e){this.categoryService.getItem(e),this.form.patchValue({action:D.Edit,id:e.id,categoryName:e.categoryName})}onDeleteCategory(e,t){e.stopPropagation();let i={title:`${this.translate.instant("ctrl.button.delete.category")}?`,message:this.translate.instant("dialog.message.delete_category",{name:t.categoryName,budget:this.budgetState.budgetName})};this.dialogService.open(i),I(this.dialogService.confirmed(),this.sub$).subscribe(n=>{if(n){let d={id:t.id,budgetId:ke.getSelectedBudgetId(),categoryName:t.categoryName,selected:!1};this.modifyItem(d,D.Delete)}})}onSaveCategory(e){let t=this.form.getRawValue();if(t.categoryName){let i={id:t.id,budgetId:ke.getSelectedBudgetId(),categoryName:t.categoryName};this.modifyItem(i,t.action,e)}}modifyItem(e,t,i){I(this.categoryService.modifyCategory(e,t),this.sub$).subscribe(()=>{i&&i.reset(),this.resetForm(),this.messageBoxService.show()})}resetForm(){this.form.reset(),this.form.patchValue({action:D.Add})}static \u0275fac=function(t){return new(t||a)(k(mo),k(ie),k(Ue),k(_e),k($))};static \u0275cmp=E({type:a,selectors:[["app-category"]],features:[N],decls:7,vars:5,consts:[["formDirective","ngForm"],["itemRef",""],[1,"title"],["autocomplete","off","data-testid","form",3,"ngSubmit","formGroup"],[1,"head-section","form-field-error"],["matInput","","formControlName","categoryName","type","text","data-testid","category",3,"placeholder","errorStateMatcher"],["data-testid","category-error"],[1,"row-xl","max-table-height"],["mat-table","",1,"tbl",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","data-testid","select-item",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-flat-button","","color","primary","type","submit","data-testid","submit",3,"disabled"],["formControlName","action","data-testid","action",1,"v-radio-group",3,"change"],["value","add"],["value","edit",3,"disabled"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","data-testid","delete",3,"click","title"],["mat-header-row",""],["mat-row","","data-testid","select-item",3,"click"],["href","/feature/create-budget"]],template:function(t,i){t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",2),c(4),l()(),g(5,sd,22,14)(6,cd,1,1)),t&2&&(r(),x(" ",h(2,3,"page.title.manage_categories")," "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y(i.pageLoaded()&&i.budgetState.hasBudget?5:6))},dependencies:[K,Re,Q,We,De,te,ee,le,he,pe,we,ce,de,re,ue,st,rt,ot,Ge,Oe,Ne,ze,Pe,Le,je,Ye,He,$e,qe,X],encapsulation:2,changeDetection:0})}return a})();var uo=(()=>{class a{get vertical(){return this._vertical}set vertical(e){this._vertical=Je(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=Je(e)}_inset=!1;static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){t&2&&(U("aria-orientation",i.vertical?"vertical":"horizontal"),F("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return a})(),Ba=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=Ve({type:a});static \u0275inj=Ee({imports:[Me,Me]})}return a})();var pd=["*"],ud='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}',hd=["unscopedContent"];var _d=[[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["mat-divider"]],[["","matListItemAvatar",""],["","matListItemIcon",""]]],gd=["[matListItemTitle]","[matListItemLine]","*","mat-divider","[matListItemAvatar],[matListItemIcon]"];function fd(a,o){a&1&&Fe(0,4)}function bd(a,o){if(a&1&&(s(0,"div",11),w(1,"input",12),s(2,"div",13),dt(),s(3,"svg",14),w(4,"path",15),l(),Wt(),w(5,"div",16),l()()),a&2){let e=p();F("mdc-checkbox--disabled",e.disabled),r(),u("checked",e.selected)("disabled",e.disabled)}}function vd(a,o){if(a&1&&(s(0,"div",17),w(1,"input",18),s(2,"div",19),w(3,"div",20)(4,"div",21),l()()),a&2){let e=p();F("mdc-radio--disabled",e.disabled),r(),u("checked",e.selected)("disabled",e.disabled)}}function Cd(a,o){}function yd(a,o){if(a&1&&(s(0,"span",4),g(1,Cd,0,0,"ng-template",6),l()),a&2){p();let e=q(3);r(),u("ngTemplateOutlet",e)}}function xd(a,o){}function kd(a,o){if(a&1&&(s(0,"span",5),g(1,xd,0,0,"ng-template",6),l()),a&2){p();let e=q(5);r(),u("ngTemplateOutlet",e)}}function wd(a,o){}function Dd(a,o){if(a&1&&g(0,wd,0,0,"ng-template",6),a&2){p();let e=q(1);u("ngTemplateOutlet",e)}}function Sd(a,o){}function Id(a,o){if(a&1&&(s(0,"span",9),g(1,Sd,0,0,"ng-template",6),l()),a&2){p();let e=q(3);r(),u("ngTemplateOutlet",e)}}function Md(a,o){}function Ad(a,o){if(a&1&&(s(0,"span",9),g(1,Md,0,0,"ng-template",6),l()),a&2){p();let e=q(5);r(),u("ngTemplateOutlet",e)}}function Ed(a,o){}function Td(a,o){if(a&1&&g(0,Ed,0,0,"ng-template",6),a&2){p();let e=q(1);u("ngTemplateOutlet",e)}}var _o=new fe("ListOption"),Vd=(()=>{class a{_elementRef=f(xe);constructor(){}static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return a})(),Fd=(()=>{class a{_elementRef=f(xe);constructor(){}static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return a})();var go=(()=>{class a{_listOption=f(_o,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,hostVars:4,hostBindings:function(t,i){t&2&&F("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}})}return a})(),Bd=(()=>{class a extends go{static \u0275fac=(()=>{let e;return function(i){return(e||(e=mt(a)))(i||a)}})();static \u0275dir=ne({type:a,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[N]})}return a})(),Rd=(()=>{class a extends go{static \u0275fac=(()=>{let e;return function(i){return(e||(e=mt(a)))(i||a)}})();static \u0275dir=ne({type:a,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[N]})}return a})(),Od=new fe("MAT_LIST_CONFIG"),cn=(()=>{class a{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Je(e)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Je(e)}_disabled=!1;_defaultOptions=f(Od,{optional:!0});static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,hostVars:1,hostBindings:function(t,i){t&2&&U("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return a})(),ho=(()=>{class a{_elementRef=f(xe);_ngZone=f(It);_listBase=f(cn,{optional:!0});_platform=f(oi);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(e){this._explicitLines=ki(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Je(e)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Je(e)}_disabled=!1;_subscriptions=new Qe;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){f(ut).load(zt);let e=f(Zn,{optional:!0}),t=f(Lt,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=t==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Xn(this,this._ngZone,this._hostElement,this._platform,f(gt)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(_t(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let t=this._explicitLines??this._inferLinesFromContent(),i=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",t===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",t===3),this._hasUnscopedTextContent){let n=this._titles.length===0&&t===1;i.classList.toggle("mdc-list-item__primary-text",n),i.classList.toggle("mdc-list-item__secondary-text",!n)}else i.classList.remove("mdc-list-item__primary-text"),i.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(t){return new(t||a)};static \u0275dir=ne({type:a,contentQueries:function(t,i,n){if(t&1&&(Nt(n,Bd,4),Nt(n,Rd,4)),t&2){let d;Z(d=J())&&(i._avatars=d),Z(d=J())&&(i._icons=d)}},hostVars:4,hostBindings:function(t,i){t&2&&(U("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),F("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return a})();var fo=new fe("SelectionList"),mn=(()=>{class a extends ho{_selectionList=f(fo);_changeDetectorRef=f(Ce);_lines;_titles;_unscopedContent;selectedChange=new O;togglePosition="after";get checkboxPosition(){return this.togglePosition}set checkboxPosition(e){this.togglePosition=e}get color(){return this._color||this._selectionList.color}set color(e){this._color=e}_color;get value(){return this._value}set value(e){this.selected&&e!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=e}_value;get selected(){return this._selectionList.selectedOptions.isSelected(this)}set selected(e){let t=Je(e);t!==this._selected&&(this._setSelected(t),(t||this._selectionList.multiple)&&this._selectionList._reportValueChange())}_selected=!1;_inputsInitialized=!1;ngOnInit(){let e=this._selectionList;e._value&&e._value.some(i=>e.compareWith(this._value,i))&&this._setSelected(!0);let t=this._selected;Promise.resolve().then(()=>{(this._selected||t)&&(this.selected=!0,this._changeDetectorRef.markForCheck())}),this._inputsInitialized=!0}ngOnDestroy(){super.ngOnDestroy(),this.selected&&Promise.resolve().then(()=>{this.selected=!1})}toggle(){this.selected=!this.selected}focus(){this._hostElement.focus()}getLabel(){return(this._titles?.get(0)?._elementRef.nativeElement||this._unscopedContent?.nativeElement)?.textContent||""}_hasCheckboxAt(e){return this._selectionList.multiple&&this._getTogglePosition()===e}_hasRadioAt(e){return!this._selectionList.multiple&&this._getTogglePosition()===e&&!this._selectionList.hideSingleSelectionIndicator}_hasIconsOrAvatarsAt(e){return this._hasProjected("icons",e)||this._hasProjected("avatars",e)}_hasProjected(e,t){return this._getTogglePosition()!==t&&(e==="avatars"?this._avatars.length!==0:this._icons.length!==0)}_handleBlur(){this._selectionList._onTouched()}_getTogglePosition(){return this.togglePosition||"after"}_setSelected(e){return e===this._selected?!1:(this._selected=e,e?this._selectionList.selectedOptions.select(this):this._selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetectorRef.markForCheck(),!0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_toggleOnInteraction(){this.disabled||(this._selectionList.multiple?(this.selected=!this.selected,this._selectionList._emitChangeEvent([this])):this.selected||(this.selected=!0,this._selectionList._emitChangeEvent([this])))}_setTabindex(e){this._hostElement.setAttribute("tabindex",e+"")}_hasBothLeadingAndTrailing(){let e=this._hasProjected("avatars","before")||this._hasProjected("icons","before")||this._hasCheckboxAt("before")||this._hasRadioAt("before"),t=this._hasProjected("icons","after")||this._hasProjected("avatars","after")||this._hasCheckboxAt("after")||this._hasRadioAt("after");return e&&t}static \u0275fac=(()=>{let e;return function(i){return(e||(e=mt(a)))(i||a)}})();static \u0275cmp=E({type:a,selectors:[["mat-list-option"]],contentQueries:function(t,i,n){if(t&1&&(Nt(n,Fd,5),Nt(n,Vd,5)),t&2){let d;Z(d=J())&&(i._lines=d),Z(d=J())&&(i._titles=d)}},viewQuery:function(t,i){if(t&1&&ve(hd,5),t&2){let n;Z(n=J())&&(i._unscopedContent=n.first)}},hostAttrs:["role","option",1,"mat-mdc-list-item","mat-mdc-list-option","mdc-list-item"],hostVars:27,hostBindings:function(t,i){t&1&&b("blur",function(){return i._handleBlur()})("click",function(){return i._toggleOnInteraction()}),t&2&&(U("aria-selected",i.selected),F("mdc-list-item--selected",i.selected&&!i._selectionList.multiple&&i._selectionList.hideSingleSelectionIndicator)("mdc-list-item--with-leading-avatar",i._hasProjected("avatars","before"))("mdc-list-item--with-leading-icon",i._hasProjected("icons","before"))("mdc-list-item--with-trailing-icon",i._hasProjected("icons","after"))("mat-mdc-list-option-with-trailing-avatar",i._hasProjected("avatars","after"))("mdc-list-item--with-leading-checkbox",i._hasCheckboxAt("before"))("mdc-list-item--with-trailing-checkbox",i._hasCheckboxAt("after"))("mdc-list-item--with-leading-radio",i._hasRadioAt("before"))("mdc-list-item--with-trailing-radio",i._hasRadioAt("after"))("mat-mdc-list-item-both-leading-and-trailing",i._hasBothLeadingAndTrailing())("mat-accent",i.color!=="primary"&&i.color!=="warn")("mat-warn",i.color==="warn")("_mat-animation-noopable",i._noopAnimations))},inputs:{togglePosition:"togglePosition",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[At([{provide:ho,useExisting:a},{provide:_o,useExisting:a}]),N],ngContentSelectors:gd,decls:20,vars:4,consts:[["icons",""],["checkbox",""],["radio",""],["unscopedContent",""],[1,"mdc-list-item__start","mat-mdc-list-option-checkbox-before"],[1,"mdc-list-item__start","mat-mdc-list-option-radio-before"],[3,"ngTemplateOutlet"],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mdc-list-item__end"],[1,"mat-focus-indicator"],[1,"mdc-checkbox"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled"],[1,"mdc-checkbox__background"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],[1,"mdc-radio"],["type","radio",1,"mdc-radio__native-control",3,"checked","disabled"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"]],template:function(t,i){if(t&1){let n=M();ft(_d),g(0,fd,1,0,"ng-template",null,0,Ui)(2,bd,6,4,"ng-template",null,1,Ui)(4,vd,5,4,"ng-template",null,2,Ui)(6,yd,2,1,"span",4)(7,kd,2,1,"span",5)(8,Dd,1,1,null,6),s(9,"span",7),Fe(10),Fe(11,1),s(12,"span",8,3),b("cdkObserveContent",function(){return v(n),C(i._updateItemLines(!0))}),Fe(14,2),l()(),g(15,Id,2,1,"span",9)(16,Ad,2,1,"span",9)(17,Td,1,1,null,6),Fe(18,3),w(19,"div",10)}t&2&&(r(6),y(i._hasCheckboxAt("before")?6:i._hasRadioAt("before")?7:-1),r(2),y(i._hasIconsOrAvatarsAt("before")?8:-1),r(7),y(i._hasCheckboxAt("after")?15:i._hasRadioAt("after")?16:-1),r(2),y(i._hasIconsOrAvatarsAt("after")?17:-1))},dependencies:[An,Pn],styles:['.mat-mdc-list-option-with-trailing-avatar.mdc-list-item,[dir=rtl] .mat-mdc-list-option-with-trailing-avatar.mdc-list-item{padding-left:0;padding-right:0}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{margin-left:16px;margin-right:16px;width:40px;height:40px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{border-radius:50%}.mat-mdc-list-option .mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled{opacity:.5}}.mat-mdc-list-option .mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mat-mdc-list-option .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-list-option .mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__checkmark{color:CanvasText}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mat-mdc-list-option .mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mat-mdc-list-option .mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__mixedmark{margin:0 1px}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-list-option._mat-animation-noopable .mdc-checkbox *,.mat-mdc-list-option._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-list-option .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-list-option .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-list-option .mdc-checkbox__native-control,.mat-mdc-list-option .mdc-radio__native-control{display:none}@media(forced-colors: active){.mat-mdc-list-option.mdc-list-item--selected::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.mat-mdc-list-option.mdc-list-item--selected [dir=rtl]::after{right:auto;left:16px}}'],encapsulation:2,changeDetection:0})}return a})();var Ld={provide:di,useExisting:Kt(()=>pn),multi:!0},dn=class{source;options;constructor(o,e){this.source=o,this.options=e}},pn=(()=>{class a extends cn{_element=f(xe);_ngZone=f(It);_renderer=f(ai);_initialized=!1;_keyManager;_listenerCleanups;_destroyed=new W;_isDestroyed;_onChange=e=>{};_items;selectionChange=new O;color="accent";compareWith=(e,t)=>e===t;get multiple(){return this._multiple}set multiple(e){let t=Je(e);t!==this._multiple&&(this._multiple=t,this.selectedOptions=new Na(this._multiple,this.selectedOptions.selected))}_multiple=!0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Je(e)}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;selectedOptions=new Na(this._multiple);_value;_onTouched=()=>{};_changeDetectorRef=f(Ce);constructor(){super(),this._isNonInteractive=!1}ngAfterViewInit(){this._initialized=!0,this._setupRovingTabindex(),this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[this._renderer.listen(this._element.nativeElement,"focusin",this._handleFocusin),this._renderer.listen(this._element.nativeElement,"focusout",this._handleFocusout)]}),this._value&&this._setOptionsFromValues(this._value),this._watchForSelectionChange()}ngOnChanges(e){let t=e.disabled,i=e.disableRipple,n=e.hideSingleSelectionIndicator;(i&&!i.firstChange||t&&!t.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._keyManager?.destroy(),this._listenerCleanups?.forEach(e=>e()),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_reportValueChange(){if(this.options&&!this._isDestroyed){let e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new dn(this,e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}get disabled(){return this._selectionListDisabled}set disabled(e){this._selectionListDisabled=Je(e),this._selectionListDisabled&&this._keyManager?.setActiveItem(-1)}_selectionListDisabled=!1;registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_watchForSelectionChange(){this.selectedOptions.changed.pipe(Oa(this._destroyed)).subscribe(e=>{for(let t of e.added)t.selected=!0;for(let t of e.removed)t.selected=!1;this._containsFocus()||this._resetActiveOption()})}_setOptionsFromValues(e){this.options.forEach(t=>t._setSelected(!1)),e.forEach(t=>{let i=this.options.find(n=>n.selected?!1:this.compareWith(n.value,t));i&&i._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_setAllOptionsSelected(e,t){let i=[];return this.options.forEach(n=>{(!t||!n.disabled)&&n._setSelected(e)&&i.push(n)}),i.length&&this._reportValueChange(),i}get options(){return this._items}_handleKeydown(e){let t=this._keyManager.activeItem;if((e.keyCode===13||e.keyCode===32)&&!this._keyManager.isTyping()&&t&&!t.disabled)e.preventDefault(),t._toggleOnInteraction();else if(e.keyCode===65&&this.multiple&&!this._keyManager.isTyping()&&Ke(e,"ctrlKey","metaKey")){let i=this.options.some(n=>!n.disabled&&!n.selected);e.preventDefault(),this._emitChangeEvent(this._setAllOptionsSelected(i,!0))}else this._keyManager.onKeydown(e)}_handleFocusout=()=>{setTimeout(()=>{this._containsFocus()||this._resetActiveOption()})};_handleFocusin=e=>{if(this.disabled)return;let t=this._items.toArray().findIndex(i=>i._elementRef.nativeElement.contains(e.target));t>-1?this._setActiveOption(t):this._resetActiveOption()};_setupRovingTabindex(){this._keyManager=new zn(this._items).withHomeAndEnd().withTypeAhead().withWrap().skipPredicate(()=>this.disabled),this._resetActiveOption(),this._keyManager.change.subscribe(e=>this._setActiveOption(e)),this._items.changes.pipe(Oa(this._destroyed)).subscribe(()=>{let e=this._keyManager.activeItem;(!e||this._items.toArray().indexOf(e)===-1)&&this._resetActiveOption()})}_setActiveOption(e){this._items.forEach((t,i)=>t._setTabindex(i===e?0:-1)),this._keyManager.updateActiveItem(e)}_resetActiveOption(){if(this.disabled){this._setActiveOption(-1);return}let e=this._items.find(t=>t.selected&&!t.disabled)||this._items.first;this._setActiveOption(e?this._items.toArray().indexOf(e):-1)}_containsFocus(){let e=Pt();return e&&this._element.nativeElement.contains(e)}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["mat-selection-list"]],contentQueries:function(t,i,n){if(t&1&&Nt(n,mn,5),t&2){let d;Z(d=J())&&(i._items=d)}},hostAttrs:["role","listbox",1,"mat-mdc-selection-list","mat-mdc-list-base","mdc-list"],hostVars:1,hostBindings:function(t,i){t&1&&b("keydown",function(d){return i._handleKeydown(d)}),t&2&&U("aria-multiselectable",i.multiple)},inputs:{color:"color",compareWith:"compareWith",multiple:"multiple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",disabled:"disabled"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[At([Ld,{provide:cn,useExisting:a},{provide:fo,useExisting:a}]),N,Te],ngContentSelectors:pd,decls:1,vars:0,template:function(t,i){t&1&&(ft(),Fe(0))},styles:[ud],encapsulation:2,changeDetection:0})}return a})(),bo=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=Ve({type:a});static \u0275inj=Ee({imports:[Yn,Me,er,tr,Ba]})}return a})();var Pd=(a,o)=>o.name;function Yd(a,o){if(a&1){let e=M();s(0,"mat-list-option",3),b("click",function(){let i=v(e).$implicit,n=p(3);return C(n.onClickListOption(i))}),c(1),l()}if(a&2){let e=o.$implicit;u("selected",e.selected),r(),x(" ",e.name," ")}}function Hd(a,o){if(a&1){let e=M();s(0,"div",1)(1,"div",2)(2,"mat-selection-list")(3,"mat-list-option",3),b("click",function(){v(e);let i=p(2);return C(i.onSelectAll())}),c(4," (V\xE4lj alla) "),l(),w(5,"mat-divider"),z(6,Yd,2,2,"mat-list-option",4,Pd),l()(),w(8,"mat-divider"),s(9,"div",5)(10,"button",6),b("click",function(){v(e);let i=p(2);return C(i.onCancel())}),c(11),m(12,"translate"),l(),s(13,"button",7),b("click",function(){v(e);let i=p(2);return C(i.onOK())}),c(14),m(15,"translate"),l()()()}if(a&2){let e=p();ni("left",e.pos.x,"px")("top",e.pos.y,"px"),r(3),u("selected",e.selectAll),r(3),j(e.list),r(5),x(" ",h(12,7,"global.cancel")," "),r(3),_(h(15,9,"global.ok"))}}function zd(a,o){a&1&&g(0,Hd,16,11,"div",0),a&2&&y(o.isOpen?0:-1)}var vo=(()=>{class a{filterListService;filterListModel$;sub$=new W;constructor(e){this.filterListService=e,this.filterListModel$=this.filterListService.getItem()}ngOnDestroy(){this.sub$.next(),this.sub$.complete()}onOK(){this.filterListService.confirm()}onCancel(){this.filterListService.hide()}onClickListOption(e){let t=this.filterListService.getItemValue(),i=t.list.map(n=>n===e?G(V({},n),{selected:!n.selected}):n);this.filterListService.setItem(G(V({},t),{list:i}))}onSelectAll(){let e=this.filterListService.getItemValue(),t=G(V({},e),{selectAll:!e.selectAll});this.filterListService.setItem(t),this.filterListService.select(t.selectAll)}static \u0275fac=function(t){return new(t||a)(k(Ta))};static \u0275cmp=E({type:a,selectors:[["app-filter-list"]],decls:2,vars:3,consts:[[1,"wrapper",3,"left","top"],[1,"wrapper"],[1,"list-content"],["checkboxPosition","before",3,"click","selected"],["checkboxPosition","before",3,"selected"],[1,"list-footer"],["mat-button","","type","button",2,"margin-right","10px",3,"click"],["mat-flat-button","","type","button",3,"click"]],template:function(t,i){if(t&1&&(g(0,zd,1,1),m(1,"async")),t&2){let n;y((n=h(1,1,i.filterListModel$))?0:-1,n)}},dependencies:[K,Q,En,bo,pn,mn,uo,Ba,X],styles:[".wrapper[_ngcontent-%COMP%]{position:absolute;border:1px solid #000000;z-index:1200;background:#363636;box-shadow:10px 10px 21px -5px #000000bf;-webkit-box-shadow:10px 10px 21px -5px rgba(0,0,0,.75);-moz-box-shadow:10px 10px 21px -5px rgba(0,0,0,.75)}.list-content[_ngcontent-%COMP%]{position:relative;overflow:auto;max-width:400px;max-height:500px}.list-footer[_ngcontent-%COMP%]{position:relative;text-align:right;padding:10px}"]})}return a})();var Co=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["app-feature"]],decls:3,vars:0,consts:[[1,"page"]],template:function(t,i){t&1&&(w(0,"app-filter-list"),s(1,"div",0),w(2,"router-outlet"),l())},dependencies:[K,Vn,vo],encapsulation:2})}return a})();var un=(a,o="")=>e=>{let t=e.parent?.get(o);return a.betweenDates(e.value,t?.value)?{betweenDate:!0}:null},yo=(a,o,e)=>t=>{let i=t.get(o),n=t.get(e);return a.rangeDateError(i?.value,n?.value)?(n?.setErrors({invalidToDate:!0}),{invalidToDate:!0}):null};var xo=(()=>{class a extends $t{httpService;translate;constructor(e,t){super(),this.httpService=e,this.translate=t}getTrips(e){return this.httpService.getItemsById(e,"trip").pipe(S(t=>{this.items=t}))}modifyTrip(e,t){switch(t){case D.Add:return this.httpService.postItem(e,"trip").pipe(S(i=>this.addItem(i)));case D.Edit:return this.httpService.putItem(e,"trip").pipe(S(i=>this.editItem(i,"id")));case D.Delete:return this.httpService.deleteItem(e,"trip").pipe(S(i=>this.deleteItem(i,"id")))}throw new Ze({error:`${t}: ${this.translate.instant("error.unknown_event")}`})}betweenDates(e,t){return!e||!t?!1:this.getItems(t===D.Edit).findIndex(n=>this.isBetweenDates(e,n.fromDate,n.toDate))!==-1}rangeDateError(e,t){return!e||!t?!1:Jt(e)>=Jt(t)}isBetweenDates(e,t,i){return Jt(e)>=Jt(t)&&Jt(e)<=Jt(i)}static \u0275fac=function(t){return new(t||a)(P(ye),P($))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function $d(a,o){if(a&1&&(s(0,"mat-error"),c(1),m(2,"translate"),l()),a&2){let e=p(2);r(),x(" ",e.getErrorMessage(e.fromDate,h(2,1,"page.label.trip"))," ")}}function qd(a,o){if(a&1&&(s(0,"mat-error"),c(1),m(2,"translate"),l()),a&2){let e=p(2);r(),x(" ",e.getErrorMessage(e.toDate,h(2,1,"page.label.trip"))," ")}}function Gd(a,o){if(a&1){let e=M();s(0,"div")(1,"button",20),c(2),m(3,"translate"),l(),s(4,"mat-radio-group",21),b("change",function(){v(e);let i=p(2);return C(i.onChangeAction())}),s(5,"mat-radio-button",22),c(6),m(7,"translate"),l(),s(8,"mat-radio-button",23),c(9),m(10,"translate"),l()()()}if(a&2){let e=p(2);r(),u("disabled",!e.form.valid),r(),x(" ",h(3,5,"global.save")," "),r(4),_(h(7,7,"global.add")),r(2),u("disabled",(e.action==null?null:e.action.value)==="add"),r(),_(h(10,9,"global.edit"))}}function Ud(a,o){a&1&&(s(0,"th",24),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"ctrl.input.from_date")))}function Qd(a,o){if(a&1&&(s(0,"td",25)(1,"mat-label"),c(2),m(3,"date"),l()()),a&2){let e=o.$implicit;r(2),_(oe(3,1,e.fromDate,"yyyy-MM-dd"))}}function Kd(a,o){a&1&&(s(0,"th",24),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"ctrl.input.to_date")))}function Wd(a,o){if(a&1&&(s(0,"td",25)(1,"mat-label"),c(2),m(3,"date"),l()()),a&2){let e=o.$implicit;r(2),_(oe(3,1,e.toDate,"yyyy-MM-dd"))}}function Xd(a,o){a&1&&(s(0,"th",24),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"global.note")))}function Zd(a,o){if(a&1&&(s(0,"td",25)(1,"mat-label",26),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.note)}}function Jd(a,o){a&1&&w(0,"th",24)}function em(a,o){if(a&1){let e=M();s(0,"td",25)(1,"button",27),m(2,"translate"),b("click",function(i){let n=v(e).$implicit,d=p(2);return C(d.onDeleteTrip(i,n))}),s(3,"mat-icon"),c(4,"delete_forever"),l()()()}a&2&&(r(),Ie("title",h(2,1,"ctrl.button.delete.trip")))}function tm(a,o){a&1&&w(0,"tr",28)}function im(a,o){if(a&1){let e=M();s(0,"tr",29),b("click",function(){let i=v(e).$implicit,n=p(2);return C(n.onSelectTrip(i))}),l()}if(a&2){let e=o.$implicit;F("selected",e.selected)}}function am(a,o){if(a&1){let e=M();s(0,"form",4,0),b("ngSubmit",function(){v(e);let i=q(1),n=p();return C(n.onSaveTrip(i))}),s(2,"div",5)(3,"mat-form-field")(4,"mat-label"),c(5),m(6,"translate"),l(),s(7,"input",6),b("click",function(){v(e);let i=q(10);return C(i.open())})("dateChange",function(i){v(e);let n=p();return C(n.onFromDateChanged(i))}),l(),w(8,"mat-datepicker-toggle",7)(9,"mat-datepicker",null,1),g(11,$d,3,3,"mat-error"),l(),s(12,"mat-form-field")(13,"mat-label"),c(14),m(15,"translate"),l(),s(16,"input",8),b("click",function(){v(e);let i=q(19);return C(i.open())})("dateChange",function(i){v(e);let n=p();return C(n.onToDateChanged(i))}),l(),w(17,"mat-datepicker-toggle",7)(18,"mat-datepicker",null,2),g(20,qd,3,3,"mat-error"),l(),s(21,"mat-form-field")(22,"mat-label"),c(23),m(24,"translate"),l(),w(25,"input",9),l()(),g(26,Gd,11,11,"div"),l(),s(27,"div",10)(28,"table",11),B(29,12),g(30,Ud,3,3,"th",13)(31,Qd,4,4,"td",14),R(),B(32,15),g(33,Kd,3,3,"th",13)(34,Wd,4,4,"td",14),R(),B(35,16),g(36,Xd,3,3,"th",13)(37,Zd,3,1,"td",14),R(),B(38,17),g(39,Jd,1,0,"th",13)(40,em,5,3,"td",14),R(),g(41,tm,1,0,"tr",18)(42,im,1,2,"tr",19),l()()}if(a&2){let e=q(10),t=q(19),i=p();u("formGroup",i.form),r(5),_(h(6,17,"ctrl.input.from_date")),r(2),u("matDatepicker",e)("errorStateMatcher",i.matcher),r(),u("for",e),r(3),y(i.fromDate!=null&&i.fromDate.invalid?11:-1),r(3),_(h(15,19,"ctrl.input.to_date")),r(2),u("matDatepicker",t)("errorStateMatcher",i.matcher),r(),u("for",t),r(3),y(i.toDate!=null&&i.toDate.invalid?20:-1),r(3),_(h(24,21,"global.note")),r(3),y(i.form?26:-1),r(2),u("dataSource",i.trips()),r(13),u("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),r(),u("matRowDefColumns",i.displayedColumns)}}function nm(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),s(3,"a",30),c(4),m(5,"translate"),l(),c(6,`.
`),l()),a&2&&(r(),x(" ",h(2,2,"page.empty.trip")," "),r(3),_(h(5,4,"page.link.create_budget")))}function rm(a,o){if(a&1&&g(0,nm,7,6,"div"),a&2){let e=p();y(e.pageLoaded()?0:-1)}}var ko=(()=>{class a extends ge{tripService;budgetStateService;dialogService;messageBoxService;translate;form;trips;displayedColumns=["fromDate","toDate","note","delete"];get action(){return this.form.get("action")}get fromDate(){return this.form.get("fromDate")}get toDate(){return this.form.get("toDate")}get note(){return this.form.get("note")}constructor(e,t,i,n,d){super(),this.tripService=e,this.budgetStateService=t,this.dialogService=i,this.messageBoxService=n,this.translate=d,this.form=new me({action:new T(D.Add.toString(),{nonNullable:!0}),id:new T(-1,{nonNullable:!0}),fromDate:new T(null,[L.required,un(e,"action")]),toDate:new T(null,[L.required,un(e,"action")]),note:new T("")},{validators:[yo(e,"fromDate","toDate")]}),this.trips=this.tripService.items}ngOnInit(){I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>this.budgetState=e),ae(e=>I(this.tripService.getTrips(e.budgetId),this.sub$))).subscribe(()=>this.pageLoaded.set(!0))}onFromDateChanged(e){e.value===null?this.fromDate?.setErrors({invalidDate:!0}):this.fromDate?.setValue(nt(e.value))}onToDateChanged(e){e.value===null?this.toDate?.setErrors({invalidDate:!0}):this.toDate?.setValue(nt(e.value))}onChangeAction(){this.action?.value===D.Add&&(this.tripService.clearSelection(),this.resetForm())}onSelectTrip(e){this.tripService.getItem(e),this.form.patchValue({action:D.Edit,id:e.id,fromDate:e.fromDate,toDate:e.toDate,note:e.note})}onDeleteTrip(e,t){e.stopPropagation();let i={title:`${this.translate.instant("ctrl.button.delete.trip")}`,message:this.translate.instant("dialog.message.delete_trip",{date:nt(t.fromDate),budget:this.budgetState.budgetName})};this.dialogService.open(i),I(this.dialogService.confirmed(),this.sub$).subscribe(n=>{if(n){let d={id:t.id,budgetId:ke.getSelectedBudgetId(),fromDate:t.fromDate,toDate:t.toDate,note:t.note};this.modifyItem(d,D.Delete)}})}onSaveTrip(e){let t=this.form.getRawValue();if(t.fromDate&&t.toDate){let i={id:t.id,budgetId:ke.getSelectedBudgetId(),fromDate:t.fromDate,toDate:t.toDate,note:t.note??""};this.modifyItem(i,t.action,e)}}modifyItem(e,t,i){I(this.tripService.modifyTrip(e,t),this.sub$).subscribe(()=>{i&&i.reset(),this.resetForm(),this.messageBoxService.show()})}resetForm(){this.form.reset(),this.form.patchValue({action:D.Add})}static \u0275fac=function(t){return new(t||a)(k(xo),k(ie),k(Ue),k(_e),k($))};static \u0275cmp=E({type:a,selectors:[["app-trip"]],features:[N],decls:7,vars:5,consts:[["formDirective","ngForm"],["fromDatePicker",""],["toDatePicker",""],[1,"title"],["autocomplete","off","data-testid","form",3,"ngSubmit","formGroup"],[1,"head-section","form-field-error"],["matInput","","formControlName","fromDate","required","","data-testid","fromDate",3,"click","dateChange","matDatepicker","errorStateMatcher"],["matSuffix","",3,"for"],["matInput","","formControlName","toDate","required","","data-testid","toDate",3,"click","dateChange","matDatepicker","errorStateMatcher"],["matInput","","type","text","formControlName","note","data-testid","note"],[1,"row-xl","max-table-height"],["mat-table","",1,"tbl",3,"dataSource"],["matColumnDef","fromDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","toDate"],["matColumnDef","note"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","data-testid","select-item",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-flat-button","","color","primary","type","submit","data-testid","submit",3,"disabled"],["formControlName","action","data-testid","action",1,"v-radio-group",3,"change"],["value","add"],["value","edit",3,"disabled"],["mat-header-cell",""],["mat-cell",""],[1,"shorten-text-s"],["mat-icon-button","","type","button",3,"click","title"],["mat-header-row",""],["mat-row","","data-testid","select-item",3,"click"],["href","/feature/create-budget"]],template:function(t,i){t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",3),c(4),l()(),g(5,am,43,23)(6,rm,1,1)),t&2&&(r(),x(" ",h(2,3,"page.title.manage_trips")," "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y(i.pageLoaded()&&i.budgetState.hasBudget?5:6))},dependencies:[K,Re,Q,We,De,te,ee,le,ta,Ki,he,pe,we,ce,de,Be,re,ue,fa,ga,bi,Vi,st,rt,ot,Ge,Oe,Ne,ze,Pe,Le,je,Ye,He,$e,qe,X],encapsulation:2,changeDetection:0})}return a})();var wo=(a,o,e)=>t=>{let i=t.get(o),n=t.get(e);return i&&n&&a.duplicate(i.value,n.value)?(i.setErrors({duplicate:!0}),{duplicate:!0}):null};var Do=(()=>{class a extends $t{httpService;translate;constructor(e,t){super(),this.httpService=e,this.translate=t}getUnits(e){return this.httpService.getItemsById(e,"unit").pipe(S(t=>{this.items=t}))}modifyUnit(e,t){switch(t){case D.Add:return this.httpService.postItem(e,"unit").pipe(S(i=>this.addItem(i)));case D.Edit:return this.httpService.putItem(e,"unit").pipe(S(i=>this.editItem(i,"id")));case D.Delete:return this.httpService.deleteItem(e,"unit").pipe(S(i=>this.deleteItem(i,"id")))}throw new Ze({error:`${t}: ${this.translate.instant("error.unknown_event")}`})}duplicate(e,t){return!e||!t?!1:this.getItems(t===D.Edit).findIndex(n=>n.unitName.toLowerCase()===e.toLowerCase())!==-1}static \u0275fac=function(t){return new(t||a)(P(ye),P($))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function sm(a,o){if(a&1&&(s(0,"mat-error",7),c(1),m(2,"translate"),l()),a&2){let e=p(2);r(),_(e.getErrorMessage(e.unitName,h(2,1,"page.label.unit")))}}function lm(a,o){if(a&1){let e=M();s(0,"div")(1,"button",18),c(2),m(3,"translate"),l(),s(4,"mat-radio-group",19),b("change",function(){v(e);let i=p(2);return C(i.onChangeAction())}),s(5,"mat-radio-button",20),c(6),m(7,"translate"),l(),s(8,"mat-radio-button",21),c(9),m(10,"translate"),l()()()}if(a&2){let e=p(2);r(),u("disabled",!e.form.valid),r(),x(" ",h(3,5,"global.save")," "),r(4),_(h(7,7,"global.add")),r(2),u("disabled",(e.action==null?null:e.action.value)==="add"),r(),x(" ",h(10,9,"global.edit")," ")}}function cm(a,o){a&1&&(s(0,"th",22),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.unit")))}function dm(a,o){if(a&1&&(s(0,"td",23)(1,"mat-label"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.unitName)}}function mm(a,o){a&1&&(s(0,"th",22),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.label.use_currency")))}function pm(a,o){if(a&1&&(s(0,"td",23)(1,"mat-icon"),c(2),l()()),a&2){let e=o.$implicit;r(2),_(e.useCurrency?"check":"")}}function um(a,o){a&1&&w(0,"th",22)}function hm(a,o){if(a&1){let e=M();s(0,"td",23)(1,"button",24),m(2,"translate"),b("click",function(i){let n=v(e).$implicit,d=p(2);return C(d.onDeleteUnit(i,n))}),s(3,"mat-icon"),c(4,"delete_forever"),l()()()}a&2&&(r(),Ie("title",h(2,1,"ctrl.button.delete.unit")))}function _m(a,o){a&1&&w(0,"tr",25)}function gm(a,o){if(a&1){let e=M();s(0,"tr",26),b("click",function(){let i=v(e).$implicit,n=p(2);return C(n.onSelectUnit(i))}),l()}if(a&2){let e=o.$implicit;F("selected",e.selected)}}function fm(a,o){if(a&1){let e=M();s(0,"form",3,0),b("ngSubmit",function(){v(e);let i=q(1),n=p();return C(n.onSaveUnit(i))}),s(2,"div",4)(3,"div",5)(4,"mat-label"),c(5),m(6,"translate"),l()(),s(7,"mat-form-field")(8,"mat-label"),c(9),m(10,"translate"),l(),w(11,"input",6,1),m(13,"translate"),g(14,sm,3,3,"mat-error",7),l(),s(15,"mat-checkbox",8),b("change",function(i){v(e);let n=p();return C(n.onChangeUseCurrency(i))}),c(16),m(17,"translate"),l()(),g(18,lm,11,11,"div"),l(),s(19,"div",9)(20,"table",10),B(21,11),g(22,cm,3,3,"th",12)(23,dm,3,1,"td",13),R(),B(24,14),g(25,mm,3,3,"th",12)(26,pm,3,1,"td",13),R(),B(27,15),g(28,um,1,0,"th",12)(29,hm,5,3,"td",13),R(),g(30,_m,1,0,"tr",16)(31,gm,1,2,"tr",17),l()()}if(a&2){let e=p();u("formGroup",e.form),r(5),_(h(6,12,"ctrl.input.unit_example")),r(4),_(h(10,14,"ctrl.input.unit_name")),r(2),Ie("placeholder",h(13,16,"ctrl.input.unit_name")),u("errorStateMatcher",e.matcher),r(3),y(e.unitName!=null&&e.unitName.invalid?14:-1),r(2),x(" ",h(17,18,"ctrl.checkbox.use_currency")," "),r(2),y(e.form?18:-1),r(2),u("dataSource",e.units()),r(10),u("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),r(),u("matRowDefColumns",e.displayedColumns)}}function bm(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),s(3,"a",27),c(4),m(5,"translate"),l(),c(6,`.
`),l()),a&2&&(r(),x(" ",h(2,2,"page.empty.unit")," "),r(3),_(h(5,4,"page.link.create_budget")))}function vm(a,o){if(a&1&&g(0,bm,7,6,"div"),a&2){let e=p();y(e.pageLoaded()?0:-1)}}var So=(()=>{class a extends ge{unitService;budgetStateService;dialogService;messageBoxService;translate;form;units;displayedColumns=["name","useCurrency","delete"];get action(){return this.form.get("action")}get unitName(){return this.form.get("unitName")}constructor(e,t,i,n,d){super(),this.unitService=e,this.budgetStateService=t,this.dialogService=i,this.messageBoxService=n,this.translate=d,this.form=new me({action:new T(D.Add.toString(),{nonNullable:!0}),id:new T(-1,{nonNullable:!0}),unitName:new T("",[L.required,L.max(50)]),useCurrency:new T(!1,{nonNullable:!0})},{validators:[wo(e,"unitName","action")]}),this.units=this.unitService.items}ngOnInit(){I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>this.budgetState=e),ae(e=>I(this.unitService.getUnits(e.budgetId),this.sub$))).subscribe(()=>this.pageLoaded.set(!0))}onChangeUseCurrency(e){this.form.patchValue({useCurrency:e.checked})}onChangeAction(){this.action?.value===D.Add&&(this.unitService.clearSelection(),this.resetForm())}onSelectUnit(e){this.unitService.getItem(e),this.form.patchValue({action:D.Edit,id:e.id,unitName:e.unitName,useCurrency:e.useCurrency})}onDeleteUnit(e,t){e.stopPropagation();let i={title:`${this.translate.instant("ctrl.button.delete.unit")}?`,message:this.translate.instant("dialog.message.delete_unit",{name:t.unitName,budget:this.budgetState.budgetName})};this.dialogService.open(i),I(this.dialogService.confirmed(),this.sub$).subscribe(n=>{if(n){let d={id:t.id,budgetId:ke.getSelectedBudgetId(),unitName:t.unitName,useCurrency:t.useCurrency,selected:!1};this.modifyItem(d,D.Delete)}})}onSaveUnit(e){let t=this.form.getRawValue();if(t.unitName){let i={id:t.id,budgetId:ke.getSelectedBudgetId(),unitName:t.unitName,useCurrency:t.useCurrency};this.modifyItem(i,t.action,e)}}modifyItem(e,t,i){I(this.unitService.modifyUnit(e,t),this.sub$).subscribe(()=>{i&&i.reset(),this.resetForm(),this.messageBoxService.show()})}resetForm(){this.form.reset(),this.form.patchValue({action:D.Add})}static \u0275fac=function(t){return new(t||a)(k(Do),k(ie),k(Ue),k(_e),k($))};static \u0275cmp=E({type:a,selectors:[["app-unit"]],features:[N],decls:7,vars:5,consts:[["formDirective","ngForm"],["itemRef",""],[1,"title"],["autocomplete","off","data-testid","form",3,"ngSubmit","formGroup"],[1,"head-section","form-field-error"],[2,"font-style","italic"],["matInput","","formControlName","unitName","type","text","data-testid","unit",3,"placeholder","errorStateMatcher"],["data-testid","unit-error"],["formControlName","useCurrency","data-testid","use-currency",3,"change"],[1,"row-xl","max-table-height"],["mat-table","",1,"tbl",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","useCurrency"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","data-testid","select-item",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-flat-button","","color","primary","type","submit","data-testid","submit",3,"disabled"],["formControlName","action","data-testid","action",1,"v-radio-group",3,"change"],["value","add"],["value","edit",3,"disabled"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","data-testid","delete",3,"click","title"],["mat-header-row",""],["mat-row","","data-testid","select-item",3,"click"],["href","/feature/create-budget"]],template:function(t,i){t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",2),c(4),l()(),g(5,fm,32,20)(6,vm,1,1)),t&2&&(r(),x(" ",h(2,3,"page.title.manage_units")," "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y(i.pageLoaded()&&i.budgetState.hasBudget?5:6))},dependencies:[K,Re,Q,We,De,te,ee,le,he,pe,we,ce,de,re,ue,wt,kt,st,rt,ot,Ge,Oe,Ne,ze,Pe,Le,je,Ye,He,$e,qe,X],encapsulation:2,changeDetection:0})}return a})();var Ra=(()=>{class a extends vt{currencyTableService;httpService;constructor(e,t){super(new Dt),this.currencyTableService=e,this.httpService=t}getBudgetYear(e){return this.httpService.getItemById(e,"budgetYear").pipe(S(t=>{t&&(this.setItem(t),this.currencyTableService.items=t.currencies)}))}getCurrentVersion(e){return this.httpService.getItemById(e,"budgetVersion").pipe(S(t=>{t&&(this.setItem(t),this.currencyTableService.items=t.currencies)}))}addVersion(e){return this.httpService.postItemVar(e,"budgetVersion").pipe(S(()=>{this.currencyTableService.items=[]}))}deleteVersion(){let e=this.getItemValue().budgetYear;return this.httpService.deleteItemVar(e,"budgetVersion").pipe(S(()=>{this.currencyTableService.items=[]}))}updateVersion(e){let t=this.getItemValue(),i=G(V({},t),{version:G(V({},t.version),{versionName:e}),currencies:this.currencyTableService.items()});return this.httpService.putItemVar(i,"budgetVersion").pipe(S(()=>{this.currencyTableService.items=[]}))}duplicate(e){if(!e)return!1;let t=[...this.getItemValue().versions];return t=t.filter(i=>i.versionName!==this.getItemValue().version.versionName),t.findIndex(i=>i.versionName.toLowerCase()===e.toLowerCase())!==-1}changeCopyBudget(e){let t=G(V({},this.getItemValue()),{copy:e});this.setItem(t)}getBudgetYearItem(e){return this.getItemValue().budgetYears.find(t=>t.id===e)}static \u0275fac=function(t){return new(t||a)(P(Ct),P(ye))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Cm=(a,o)=>o.id;function ym(a,o){if(a&1&&(s(0,"mat-option",6),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.year," ")}}function xm(a,o){if(a&1&&(s(0,"mat-error"),c(1),m(2,"translate"),l()),a&2){let e=p(3);r(),_(e.getErrorMessage(e.budgetYearId,h(2,1,"global.year")))}}function km(a,o){if(a&1){let e=M();s(0,"div",7)(1,"mat-checkbox",9),b("change",function(i){v(e);let n=p(3);return C(n.onChangeCopyBudget(i))}),c(2),m(3,"translate"),l()()}a&2&&(r(2),x(" ",h(3,1,"ctrl.checkbox.copy_version")," "))}function wm(a,o){if(a&1&&(s(0,"div"),w(1,"app-currency-form",10),l()),a&2){let e=p(2),t=p();r(),u("currencies",t.currencies)("deletable",!e.copy)}}function Dm(a,o){if(a&1){let e=M();s(0,"form",3,0),b("ngSubmit",function(){v(e);let i=q(1),n=p(2);return C(n.onCreateVersion(i))}),s(2,"div",4)(3,"mat-form-field")(4,"mat-label"),c(5),m(6,"translate"),l(),s(7,"mat-select",5),b("selectionChange",function(i){v(e);let n=p(2);return C(n.onChangeYear(i))}),z(8,ym,2,2,"mat-option",6,Cm),l(),g(10,xm,3,3,"mat-error"),l()(),g(11,km,4,3,"div",7)(12,wm,2,2,"div"),s(13,"div")(14,"button",8),c(15),m(16,"translate"),l()()()}if(a&2){let e=p(),t=p();u("formGroup",t.form),r(5),_(h(6,8,"ctrl.select.year")),r(2),u("errorStateMatcher",t.matcher),r(),j(e.budgetYears),r(2),y(t.budgetYearId!=null&&t.budgetYearId.invalid?10:-1),r(),y(e.budgetYears.length>0?11:-1),r(),y((t.budgetYearId==null?null:t.budgetYearId.value)!==-1?12:-1),r(2),u("disabled",t.currencies().length===0||(t.budgetYearId==null?null:t.budgetYearId.value)===-1),r(),x(" ",h(16,10,"ctrl.button.create_version")," ")}}function Sm(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.empty.budget_version")))}function Im(a,o){if(a&1&&g(0,Sm,3,3,"div"),a&2){let e=p(2);y(e.pageLoaded()?0:-1)}}function Mm(a,o){a&1&&g(0,Dm,17,12,"form",2)(1,Im,1,1),a&2&&y(o.budgetYears.length!==0?0:1)}var Mo=(()=>{class a extends ge{versionService;currencyTableService;budgetStateService;messageBoxService;form;budgetYear;currencies;get budgetYearId(){return this.form.get("budgetYearId")}constructor(e,t,i,n){super(),this.versionService=e,this.currencyTableService=t,this.budgetStateService=i,this.messageBoxService=n,this.form=new me({budgetYearId:new T(-1,L.required),currencyForm:new T,copy:new T(!0,{nonNullable:!0})}),this.budgetYear=this.versionService.getItem(),this.currencies=this.currencyTableService.items}ngOnInit(){I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>this.budgetState=e),ae(e=>I(this.versionService.getBudgetYear(e.budgetId),this.sub$))).subscribe(e=>{this.form.patchValue({copy:e.copy}),this.pageLoaded.set(!0)})}onChangeYear(e){this.getCurrentVersion(+e.value)}onChangeCopyBudget(e){this.form.patchValue({copy:e.checked}),this.versionService.changeCopyBudget(e.checked),e.checked&&this.budgetYearId&&this.budgetYearId.value!==-1&&this.getCurrentVersion(+this.budgetYearId.value)}onCreateVersion(e){let t=this.form.getRawValue();if(t.budgetYearId){let i=this.versionService.getBudgetYearItem(t.budgetYearId);if(i){let n=this.createBudgetYear(i,t.copy);I(this.versionService.addVersion(n),this.sub$).subscribe(()=>{e.resetForm(),this.form.reset(),this.messageBoxService.show()})}}}getCurrentVersion(e){let t=this.versionService.getBudgetYearItem(e);t&&I(this.versionService.getCurrentVersion(t.id),this.sub$).subscribe()}createBudgetYear(e,t){let i=new Dt;return i.budgetYear=e,i.copy=t,i.currencies=this.currencyTableService.items(),i}static \u0275fac=function(t){return new(t||a)(k(Ra),k(Ct),k(ie),k(_e))};static \u0275cmp=E({type:a,selectors:[["app-create-version"]],features:[N],decls:6,vars:5,consts:[["formDirective","ngForm"],[1,"title"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"head-section","form-field-error"],["formControlName","budgetYearId","required","","data-testid","budget-year",3,"selectionChange","errorStateMatcher"],[3,"value"],[1,"row-xl"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["formControlName","copy","data-testid","copy",3,"change"],["formControlName","currencyForm",3,"currencies","deletable"]],template:function(t,i){if(t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",1),c(4),l()(),g(5,Mm,2,1)),t&2){let n;r(),x(" ",h(2,3,"page.title.create_version")," "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y((n=i.pageLoaded()&&i.budgetYear())?5:-1,n)}},dependencies:[K,Q,te,ee,le,mi,at,it,tt,he,pe,ce,de,Be,re,ue,wt,kt,X],encapsulation:2,changeDetection:0})}return a})();var Ao=a=>o=>a.duplicate(o.value)?(o.setErrors({duplicate:!0}),{duplicate:!0}):null;var Am=(a,o)=>o.id;function Em(a,o){if(a&1&&(s(0,"mat-option",8),c(1),l()),a&2){let e=o.$implicit;u("value",e.id),r(),x(" ",e.year," ")}}function Tm(a,o){if(a&1&&(s(0,"mat-error"),c(1),l()),a&2){let e=p(3);r(),_(e.getErrorMessage(e.year))}}function Vm(a,o){if(a&1&&(s(0,"mat-error"),c(1),m(2,"translate"),l()),a&2){let e=p(3);r(),_(e.getErrorMessage(e.versionName,h(2,1,"page.label.the_name")))}}function Fm(a,o){if(a&1){let e=M();s(0,"button",12),b("click",function(i){v(e);let n=p(3);return C(n.onDeleteVersion(i))}),c(1),m(2,"translate"),l()}if(a&2){let e=p(3);u("disabled",e.currencies().length===0||(e.year==null?null:e.year.value)===-1),r(),x(" ",h(2,2,"ctrl.button.delete.version")," ")}}function Bm(a,o){if(a&1&&(s(0,"div"),w(1,"app-currency-form",13),l()),a&2){let e=p(3);r(),u("currencies",e.currencies)("deletable",!1)}}function Rm(a,o){if(a&1){let e=M();s(0,"form",5,0),b("ngSubmit",function(){v(e);let i=q(1),n=p(2);return C(n.onSaveVersion(i))}),s(2,"div",6)(3,"mat-form-field")(4,"mat-label"),c(5),m(6,"translate"),l(),s(7,"mat-select",7),b("selectionChange",function(i){v(e);let n=p(2);return C(n.onChangeYear(i))}),z(8,Em,2,2,"mat-option",8,Am),l(),g(10,Tm,2,1,"mat-error"),l()(),s(11,"mat-form-field")(12,"mat-label"),c(13),m(14,"translate"),l(),w(15,"input",9),g(16,Vm,3,3,"mat-error"),l(),g(17,Fm,3,4,"button",10)(18,Bm,2,2,"div"),s(19,"div")(20,"button",11),c(21),m(22,"translate"),l()()()}if(a&2){let e=p(),t=p();u("formGroup",t.form),r(5),_(h(6,11,"ctrl.select.year")),r(2),u("errorStateMatcher",t.matcher),r(),j(e.budgetYears),r(2),y(t.year!=null&&t.year.invalid?10:-1),r(3),_(h(14,13,"global.name")),r(2),u("errorStateMatcher",t.matcher),r(),y(t.versionName!=null&&t.versionName.invalid?16:-1),r(),y(e.versions.length>1?17:-1),r(),y(t.year!=null&&t.year.value&&(t.year==null?null:t.year.value)!==-1?18:-1),r(2),u("disabled",t.currencies().length===0||(t.year==null?null:t.year.value)===-1),r(),x(" ",h(22,15,"ctrl.button.update.version")," ")}}function Om(a,o){a&1&&(s(0,"div"),c(1),m(2,"translate"),l()),a&2&&(r(),_(h(2,1,"page.empty.version")))}function Lm(a,o){if(a&1&&g(0,Om,3,3,"div"),a&2){let e=p(2);y(e.pageLoaded()?0:-1)}}function Nm(a,o){a&1&&g(0,Rm,23,17,"form",4)(1,Lm,1,1),a&2&&y(o.budgetYears.length!==0?0:1)}var Eo=(()=>{class a extends ge{versionService;currencyTableService;budgetStateService;dialogService;messageBoxService;translate;form;budgetYear;currencies;get year(){return this.form.get("year")}get versionName(){return this.form.get("versionName")}constructor(e,t,i,n,d,A){super(),this.versionService=e,this.currencyTableService=t,this.budgetStateService=i,this.dialogService=n,this.messageBoxService=d,this.translate=A,this.form=new me({year:new T(-1,L.required),versionName:new T("",[L.required,L.max(15),Ao(this.versionService)]),currencyForm:new T}),this.budgetYear=this.versionService.getItem(),this.currencies=this.currencyTableService.items}ngOnInit(){I(this.budgetStateService.getItem(),this.sub$).pipe(S(e=>this.budgetState=e),ae(e=>I(this.versionService.getBudgetYear(e.budgetId),this.sub$))).subscribe(()=>this.pageLoaded.set(!0))}onChangeYear(e){let t=this.versionService.getBudgetYearItem(+e.value);t&&I(this.versionService.getCurrentVersion(t.id),this.sub$).subscribe(i=>{this.versionName?.setValue(i.version.versionName)})}onDeleteVersion(e){e.stopPropagation();let t={title:`${this.translate.instant("ctrl.button.delete.version")}`,message:this.translate.instant("dialog.message.delete_version",{name:this.versionName?.value,budget:this.budgetState.budgetName})};this.dialogService.open(t),I(this.dialogService.confirmed(),this.sub$).subscribe(i=>{i&&I(this.versionService.deleteVersion(),this.sub$).subscribe(()=>{this.form.reset(),this.messageBoxService.show()})})}onSaveVersion(e){let t=this.form.value.versionName;if(t)if(this.form.controls.currencyForm.valid){let i={title:`${this.translate.instant("dialog.title.change_currency")}`,message:this.translate.instant("dialog.message.update_version")};this.dialogService.open(i),I(this.dialogService.confirmed(),this.sub$).pipe(ae(n=>n?I(this.versionService.updateVersion(t),this.sub$):Bt(null))).subscribe(n=>{n&&this.reset(e)})}else I(this.versionService.updateVersion(t),this.sub$).subscribe(()=>{this.reset(e)})}reset(e){e.resetForm(),this.form.reset(),this.messageBoxService.show()}static \u0275fac=function(t){return new(t||a)(k(Ra),k(Ct),k(ie),k(Ue),k(_e),k($))};static \u0275cmp=E({type:a,selectors:[["app-modify-version"]],features:[N],decls:10,vars:8,consts:[["formDirective","ngForm"],[1,"title"],[1,"row-xl"],[2,"font-style","italic"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"head-section","form-field-error"],["formControlName","year","required","",3,"selectionChange","errorStateMatcher"],[3,"value"],["matInput","","type","text","formControlName","versionName","required","",3,"errorStateMatcher"],["mat-flat-button","","type","button",3,"disabled"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-flat-button","","type","button",3,"click","disabled"],["formControlName","currencyForm",3,"currencies","deletable"]],template:function(t,i){if(t&1&&(s(0,"h2"),c(1),m(2,"translate"),s(3,"span",1),c(4),l()(),g(5,Nm,2,1),s(6,"div",2)(7,"span",3),c(8),m(9,"translate"),l()()),t&2){let n;r(),x(" ",h(2,4,"page.title.manage_version"),"* "),r(3),_(i.budgetState.hasBudget?" ("+i.budgetState.budgetName+")":""),r(),y((n=i.pageLoaded()&&i.budgetYear())?5:-1,n),r(3),x(" * ",h(9,6,"page.label.version_restriction")," ")}},dependencies:[K,Q,De,te,ee,le,mi,at,it,tt,he,pe,we,ce,de,Be,re,ue,X],encapsulation:2,changeDetection:0})}return a})();var Nf=[{path:"",component:Co,canActivate:[mr],children:[{path:"home",title:"Hem",component:pr},{path:"category",title:"Hantera Kategorier",component:po},{path:"unit",title:"Hantera Enheter",component:So},{path:"trip",title:"Hantera Resor",component:ko},{path:"create-budget-year",title:"Skapa Budget\xE5r",component:no},{path:"delete-budget-year",title:"Ta Bort Budget\xE5r",component:ro},{path:"create-version",title:"Skapa Version",component:Mo},{path:"modify-version",title:"Hantera Version",component:Eo},{path:"budget-item",title:"Hantera Budget",component:Kr},{path:"actual-item",title:"Hantera Transaktioner",component:Gr},{path:"budget-variance",title:"Budget vs Utfall",component:eo},{path:"create-budget",title:"Skapa Budget",component:lo},{path:"",redirectTo:"home",pathMatch:"full"}]}];export{Nf as FEATURE_ROUTES};
